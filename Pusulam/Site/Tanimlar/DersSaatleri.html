<div class="page-head">
    <!-- BEGIN PAGE TITLE -->
    <div class="page-title col-md-12">
        <h1>
            Ders Saatleri <small>Ders Saatleri </small> <span onclick="YardimGoster(ID_MENU);" class="pull-right" style="cursor:pointer;"><img src="assets/global/img/info.gif" class="info-image-icon" /> </span>
        </h1>
    </div>
    <!-- END PAGE TITLE -->
</div>
<div class="row" id="app">
    <div class="col-md-12" v-if="LISTE.length>0">
        <div class="portlet box blue-hoki dd-item" style="border:none">
            <div class="portlet-title dd-handle" data-toggle='collapse' data-target='#filters' style="cursor:pointer;">
                <div class="caption">
                    <i class="icon-magnifier"></i>
                    <span class="caption-subject bold uppercase"> Ders Saatleri </span>
                    <span class="caption-helper"></span>
                </div>
                <div class='actions'>
                    <a href='javascript:;' class='btn btn-default btn-sm' style='border:none;'>
                        <i class='fa fa-chevron-down'></i>
                    </a>
                </div>
            </div>
            <!-- BEGIN PORTLET-->
            <div class="portlet-body form collapse in">
                <form role="form" style="padding:12px 20px">
                    <table class="table table-striped table-bordered table-hover table-checkable" width="100%" id="tblListe">
                        <thead>
                            <tr>
                                <th>DERS NO</th>
                                <th>BAŞLAMA SAATİ</th>
                                <th>BİTİŞ SAATİ</th>
                                <th style="width:82px;">İŞLEM</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr class="odd gradeX" v-for="(u, index) in LISTE">
                                <td>
                                    {{u.DERSNO}}
                                </td>
                                <td>
                                    <input type="time" v-model="u.BASSAAT" />

                                </td>
                                <td>

                                    <input type="time" v-model="u.BITSAAT" />
                                </td>
                                <td>
                                    <a style='width:100px;' @click="dersSaatiEkle(u)" class='btn btn-primary btn-sm'> KAYDET <i class='fa fa-save'></i></a>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </form>
            </div>
        </div>
    </div>
</div>
<!--<script>
    var vue = new Vue({

        el: "#app",
        name: "DersSaatleri.html",

        data: {
            controller: "DersSaatleri",
            LISTE: [],
            ITEM: { DERSNO: 0, BASSAAT: 0, BITSAAT: 0 }
        },
        mounted() {
            debugger;

            this.Listele();
        },
        methods: {            
            Kaydet() {
                var p = {
                    TCKIMLIKNO: session.TCKIMLIKNO,
                    OTURUM: session.OTURUM,
                    ID_DERS: this.ID_DERS,
                    ID_OGRETMEN: this.ID_OGRETMEN,
                    ID_SINIF: this.ID_SINIF,
                    ID_EGITIMTURU: this.ID_EGITIMTURU,
                    DONEM: this.DONEM,
                }
                WebPost(this, this.controller, 'DersKaydet', p, '', '', function (data, parent) {
                    parent.Listele();
                });
            },
            dersSaatiEkle(ders) {              
                var p = {
                    TCKIMLIKNO: session.TCKIMLIKNO,
                    OTURUM: session.OTURUM,
                    PARAMETERS: JSON.stringify(ders)

                };
                WebPost(this, this.controller, "DersSaatleriKaydet", p, '', '', function (data, parent) {

                    if (data) {
                        Alert_Info("Başarılı");
                    }
                    else {
                        Alert_Warning("Kayıt işleminde hata oluştu. Lütfen daha sonra deneyiniz!");
                    }
                });



            },
            Listele() {
                this.LISTE = [];
                var p = {
                    TCKIMLIKNO: session.TCKIMLIKNO,
                    OTURUM: session.OTURUM
                };
                WebPost(this, this.controller, "DersSaatleriListele", p, '', '', function (data, parent) {
                    //parent.DUYURULIST = JSON.parse(data);

                    if (data != null && data.length > 0) {
                        parent.LISTE = JSON.parse(data);
                    }
                    else {
                        parent.LISTE = [];
                    }

                });
            },

        }

        }
    });
</script>-->
<script>
    var vue = new Vue({

        el: "#app",
        name: "DersSaatleri.html",

        data: {
            controller: "DersSaatleri",
            LISTE: [],
            ITEM: { DERSNO: 0, BASSAAT: 0, BITSAAT: 0 }
           
        },
        mounted() {

            this.Listele();
        },
        methods: {
            dersSaatiEkle(ders) {
                var p = {
                    TCKIMLIKNO: session.TCKIMLIKNO,
                    OTURUM: session.OTURUM,
                    PARAMETERS: JSON.stringify(ders)

                };
                WebPost(this, this.controller, "DersSaatleriKaydet", p, '', '', function (data, parent) {

                    if (data) {
                        Alert_Info("Başarılı");
                    }
                    else {
                        Alert_Warning("Kayıt işleminde hata oluştu. Lütfen daha sonra deneyiniz!");
                    }
                });



            },
            Listele() {
                this.LISTE = [];
                var p = {
                    TCKIMLIKNO: session.TCKIMLIKNO,
                    OTURUM: session.OTURUM
                };
                WebPost(this, this.controller, "DersSaatleriListele", p, '', '', function (data, parent) {
                    //parent.DUYURULIST = JSON.parse(data);

                    if (data != null && data.length > 0) {
                        parent.LISTE = JSON.parse(data);
                    }
                    else {
                        parent.LISTE = [];
                    }

                });
            },

        }
    });
</script>