<!--<link href="assets/global/plugins/bootstrap-fileinput/bootstrap-fileinput.css" rel="stylesheet" type="text/css" />
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.3.1/css/all.css">
<style>
    td {
        vertical-align: middle !important;
    }

    .row {
        margin-top: 10px !important;
    }

    .modal-dialog {
        width: 400px;
    }

    table.dataTable {
        margin: 0px !important;
    }

    #table_soru img {
        max-width: 100% !important;
    }

    .col-md-12 .col-md-4 .form-md-line-input .col-md-9 .spesificStyle {
        width: 100%;
        height: 34px;
        outline: 0 !important;
        box-shadow: none !important;
        border-radius: 4px;
        font-size: 14px;
        line-height: 1.42857;
        color: #555;
        display: block;
    }

    /* CSS of the table to list the data. Start*/
    table.dataTable thead .sorting:after,
    table.dataTable thead .sorting:before,
    table.dataTable thead .sorting_asc:after,
    table.dataTable thead .sorting_asc:before,
    table.dataTable thead .sorting_asc_disabled:after,
    table.dataTable thead .sorting_asc_disabled:before,
    table.dataTable thead .sorting_desc:after,
    table.dataTable thead .sorting_desc:before,
    table.dataTable thead .sorting_desc_disabled:after,
    table.dataTable thead .sorting_desc_disabled:before {
        bottom: .5em;
    }

    .table-bordered,
    .table-bordered > tbody > tr > td,
    .table-bordered > tbody > tr > th,
    .table-bordered > tfoot > tr > td,
    .table-bordered > tfoot > tr > th,
    .table-bordered > thead > tr > td,
    .table-bordered > thead > tr > th {
        border: 1px solid #c9c9c9;
    }
    /* END*/
</style>
<div class="page-head">
    <div class="page-title col-md-12">
        <h1>
            Kitap Okuma <small>Sonuç Listesi</small> <span onclick="YardimGoster(ID_MENU);" class="pull-right" style="cursor:pointer;"><img src="assets/global/img/info.gif" class="info-image-icon" /> </span>
        </h1>
    </div>
</div>

<div class="row" id="app">
    <div class="col-md-12">
        <div class="portlet box green-haze dd-item" style="border:none">
            <div class="portlet-title dd-handle" data-toggle='collapse' data-target='#filters' style="cursor:pointer;">
                <div class="caption">
                    <i class="icon-magnifier"></i>
                    <span class="caption-subject bold uppercase"> Filtreler </span>
                    <span class="caption-helper"></span>
                </div>
                <div class='actions'>
                    <a href='javascript:;' class='btn btn-default btn-sm' style='border:none;'>
                        <i class='fa fa-chevron-down'></i>
                    </a>
                </div>
            </div>
            <div class="portlet-body form collapse in" id="filters">
                <div class="form-body form-group-lg form-horizontal">
                    <div class="form-inline list-group-item row">

                        <div class="portlet light col-md-12" id="FiltreDiv" style="margin:0px; border-bottom-style: solid;border-bottom-width: 3px;border-bottom-color: rgb(0, 173, 239);">
                            <div class="portlet-body">
                                <div class="form-inline">
                                    <div class="col-lg-12">
                                        <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#exampleModal" style="float: right; margin: -10px 6px 12px; font-size: 14px;">
                                            YENİ KİTAP EKLE
                                        </button>
                                    </div>
                                    <div class="col-md-4">-->
<!--Filter. Start-->
<!--<c-grup-single style=" margin-left: -11px; width: 101%;" :controller="controller"
               @OnChange="SubeSelected">
</c-grup-single>
<c-grup-single style=" margin-left: -11px; width: 101%;" :controller="controller"
               @OnChange="SubeSelected">
</c-grup-single>
<input style="float:right;margin: 10px;" type="button" class="btn btn-success" v-on:click="Getir" value="Listele">-->
<!--Filter. END-->
<!--</div>-->
<!--list datas. Start-->
<!--<div class="col-md-8">-->
<!--style=" border: 1px solid #c9c9c9; width: 99.8% !important;"-->
<!--<table id="tblKitapListele" class="table table-striped table-bordered table-sm" cellspacing="0">
    <th ead>
        <tr>
            <th class="th-sm">
                ADI
            </th>
            <th class="th-sm">
                BASLAMA TARIHI
            </th>
            <th class="th-sm">
                BITME TARIHI
            </th>
            <th>
                GUNCERLE - SIL
            </th>
        </tr>
    </thead>
    <tbody>
        <tr v-for="u in LISTE">
        <td v-if="u.FOTOGRAF==''">
    <img src="../../../img/okyanus_image.jpg" class='img-rounded' height="60" width="60" style="position:center" />
</td>
<td v-else>
    <img :src='"data:image/png;base64,"+ u.FOTOGRAF' class='img-rounded' height="60" width="60" style="position:center" />
</td>
                <td>{{u.K_ADI}}</td>
                <td>{{u.K_BAS_TRH}}</td>
                <td>{{u.K_BIT_TARIH}}</td>
                <td><input style="float:right;margin: 10px;" type="button" class="btn btn-success" v-on:click="DemoLogin(u)" value="Giriş Yap"></td>
            </tr>


        </tbody>
        <tfoot>
            <tr>
                <th class="th-sm">
                    ADI
                </th>
                <th class="th-sm">
                    BASLAMA TARIHI
                </th>
                <th class="th-sm">
                    BITME TARIHI
                </th>
                <th>
                    GUNCERLE - SIL
                </th>
            </tr>
        </tfoot>
    </table>
</div>-->
<!--list datas. END-->
<!--</div>
                            </div>
                        </div>

                    </div>
                    <div class="form-inline list-group-item row" v-if="ID_UNITETARAMASINAV>0">
                        <c-rapor-tur-buton @Yazdir="Yazdir"> </c-rapor-tur-buton>
                    </div>
                </div>


            </div>

        </div>
    </div>

</div>
<script src="../../assets/global/plugins/bootstrap-select/js/i18n/defaults-tr_TR.js"></script>
<script src="assets/global/plugins/bootstrap-fileinput/bootstrap-fileinput.js" type="text/javascript"></script>

<script src="../../VueComponents/UniteTarama/Filtreler.js"></script>
<script src="../../VueComponents/Genel.js"></script>
<script src="../../VueComponents/Filtre.js"></script>

<script>
    /*code to list data. Start */
    $(document).ready(function () {
        $('#dtBasicExample').DataTable();
        $('.dataTables_length').addClass('bs-select');
    });
    /*END*/

    var vue = new Vue({
        el: "#app",
        name: "KitapOkuma.html",

        data: {
            controller: 'KitapOkuma',
            LISTE: [],
            DONEM: '',
        },


        mounted() {
            var _this = this;

            $("#TblKitap").DataTable().destroy();
            _this.$nextTick(function () {
                _this.ListeOlustur('TblKitap');
            });

            this.Getir();
        },


        methods: {
            //=========
            Raporla: function (event) {
                $('#filters').collapse('hide');
                this.Getir();
            },



            Getir() {
                //var _this = this;
                ////this.htmlYaz = '<div class="col-md-12"><div>';
                //if ((this.idsube == undefined || this.idsube == "0")
                //    || (this.idkademe3 == undefined || this.idkademe3 == "0")
                //) {
                //    Alert_Warning("Şube ve Sınıf Kademesi seçmeniz gerekmektedir.");
                //    _this.divOgrenci = 0;
                //    return;
                //}
                //this.divOgrenci = 1;
                var p = {
                    TCKIMLIKNO: session.TCKIMLIKNO,
                    OTURUM: session.OTURUM,
                    //ID_SUBE: this.idsube,
                    //ID_SINIF: this.idsinif,
                    //ID_KADEME3: this.idkademe3
                };

                alert("dfdf")
                WebPost(this, this.controller, "DonemListele", p, " ", " ", function (data, parent) {
                    console.log(data)
                    parent.LISTE = JSON.parse(data);
                    ListeOlustur('tblKitapListele')

                    //if (JSON.parse(data)[0] != null) {
                    //    _this.dtOgrenciList = JSON.parse(data)[0].DemoOgrenciList;

                    //    $("#TblKitap").DataTable().destroy();
                    //    _this.$nextTick(function () {
                    //        _this.ListeOlustur('TblKitap');
                    //    });

                    //}
                    //else {
                    //    Alert_Warning("Kitap Bulunamadı..!");
                    //    _this.divOgrenci = 0;
                    //    return;
                    //}
                });
            }
            //=========

            //DonemSelected(item) {
            //    this.DONEM = item;
            //    this.ID_UNITETARAMASINAV = 0;
            //},
    //        SubeSelected(item) {
    //            this.ID_SUBEs = item;
    //            this.ID_UNITETARAMASINAV = 0;
    //            this.ID_KADEME3 = 0;
    //        },
    //        Kademe3Selected(item) {
    //            this.ID_KADEME3 = item;
    //            this.ID_UNITETARAMASINAV = 0;
    //        },
    //        SinavSelected(item) {
    //            this.ID_UNITETARAMASINAV = item;
    //        },

    //        Yazdir(ciktiTuru) {
    //            if (ciktiTuru == "") {
    //                Alert_Warning("Çıktı Türünü Seçiniz.");
    //                return;
    //            }
    //            if (this.ID_UNITETARAMASINAV != 0) {
    //                window.open('../Rapor.aspx?rapor=UniteTarama.SinavSonucListesi&raporTur=' + ciktiTuru + '&p=' + session.TCKIMLIKNO + ';' + session.OTURUM + ';' + this.ID_UNITETARAMASINAV + ";" + JSON.stringify(this.ID_SUBEs), '_blank');
    //            }
    //            else {
    //                Alert_Warning("Sınav seçmeniz gerekmektedir.");
    //                return;
    //            }
    //        },


    //    },
    //});
</script>
<script src="../../../Scripts/PublicMethods.js?v=1.0.0"></script>-->


<div class="page-head">
    <div class="page-title col-md-12">
        <h1> Demo Öğrenci  <span onclick="YardimGoster(ID_MENU);" class="pull-right" style="cursor:pointer;"><img src="assets/global/img/info.gif" class="info-image-icon" /> </span></h1>
    </div>
</div>


<div class="row" id="app">
    <div class="col-md-12">
        <div class="portlet box green-haze dd-item" style="border:none">
            <div class="portlet-title dd-handle" data-toggle='collapse' data-target='#filters' style="cursor:pointer;">
                <div class="caption">
                    <i class="icon-magnifier"></i>
                    <span class="caption-subject bold uppercase"> Filtreler </span>
                    <span class="caption-helper"></span>
                </div>
                <div class='actions'>
                    <a href='javascript:;' class='btn btn-default btn-sm' style='border:none;'>
                        <i class='fa fa-chevron-down'></i>
                    </a>
                </div>
            </div>

            <!--Modal new Add Book. Start-->
            <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
                <div class="modal-dialog" role="document">
                    <div class="modal-content" style=" width: 129%;">
                        <div class="modal-header">
                            <h4 class="modal-title" id="exampleModalLabel">YENİ KİTAP EKLE</h4>

                        </div>
                        <div class="modal-body">
                            <div class="row">
                                <c-kademe3 :controller="controller"
                                           @OnChange="Kademe3Selected">
                                </c-kademe3>
                            </div>
                            <div class="row">
                                <c-sinif-alan-multi :controller="controller"
                                                    @OnChange="SinifAlanSelected">
                                </c-sinif-alan-multi>
                            </div>
                            <div class="row">
                                <div class="form-md-line-input ">
                                    <label class="control-label col-md-3" style="vertical-align:middle;">Kitap Adı </label>
                                    <div class="col-md-9">
                                        <input type="text" placeholder="Kitap Adı" class="form-control spesificStyle" v-model="SINAVADI" />
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="form-md-line-input">
                                    <label class="control-label col-md-3" style="vertical-align:middle;">Açıklama </label>
                                    <div class="col-md-9">
                                        <input type="text" placeholder="Açıklama" class="form-control spesificStyle" v-model="SINAVADI" />
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="form-md-line-input">
                                    <label class="control-label col-md-3" style="vertical-align:middle;">Başlangıç tarihi</label>
                                    <div class="col-md-9">
                                        <input type="date" class="form-control spesificStyle" v-model="SINAVADI" />
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="form-md-line-input">
                                    <label class="control-label col-md-3" style="vertical-align:middle;">Bitiş Tarihi</label>
                                    <div class="col-md-9">
                                        <input type="date" class="form-control spesificStyle" v-model="SINAVADI" />
                                    </div>
                                </div>
                            </div>

                            <div class="row">
                                <div class="form-md-line-input">
                                    <label class="control-label col-md-3">Kitap Kapağı</label>
                                    <div class="col-md-9">
                                        <div class="fileinput fileinput-new" data-provides="fileinput">
                                            <div class="input-group" style="width:115%!important;">
                                                <div class="form-control uneditable-input input-fixed input-medium" data-trigger="fileinput" style="width: 100% !important; height: 34px;">
                                                    <i class="fa fa-file fileinput-exists"></i>&nbsp;
                                                    <span class="fileinput-filename"> </span>
                                                </div>
                                                <span class="input-group-addon btn default btn-file">
                                                    <span class="fileinput-new"> Dosya Seç </span>
                                                    <span class="fileinput-exists"> Değiştir </span>
                                                    <input type="file" name="..." id="yonergeDosya">
                                                </span>
                                                <a href="javascript:;" class="input-group-addon btn red fileinput-exists" data-dismiss="fileinput"> Sil </a>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-secondary" data-dismiss="modal">İPTAL</button>
                                <button type="button" class="btn btn-success">EKLE</button>
                            </div>
                        </div>
                </div>
            </div>
            <!--Modal new Add Book. END-->

            <div class="portlet-body form collapse in" id="filters">
                <form role="form" style="padding:12px 20px">
                    <div class="form-body form-group-lg form-horizontal row" style="padding: 0px;margin-top: 0px !important;">
                        <!--Click button open Modal. Start-->
                        <div class="col-lg-12">
                            <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#exampleModal" style="float: right; margin: -10px 6px 12px; font-size: 14px;">
                                YENİ KİTAP EKLE
                            </button>
                        </div>
                        <!--Click button open Modal. END-->
                        <div class="portlet light col-md-12" id="FiltreDivOgretmen" style="margin:0px; border-bottom-style: solid;border-bottom-width: 3px;border-bottom-color: rgb(0, 173, 239);">
                            <div class="portlet-body">
                                <div class="form-inline">
                                    <!--<c-sube :controller="controller"
                                            @OnChange="SubeSelected">
                                    </c-sube>-->
                                    <c-kademe3 :controller="controller"
                                               @OnChange="Kademe3Selected">
                                    </c-kademe3>
                                    <c-sinif-alan-multi :controller="controller"
                                                        @OnChange="SinifAlanSelected">
                                    </c-sinif-alan-multi>
                                    <input style="float:right;margin: 10px;" type="button" class="btn btn-success" v-on:click="Listele" value="Listele">
                                </div>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <div class="portlet light col-md-12" id="FiltreDivOgrenci" style="margin:0px; border-bottom-style: solid;border-bottom-width: 3px;border-bottom-color: rgb(0, 173, 239);" v-if="divOgrenci==1">
        <div class="portlet-body">
            <div class="form-inline">

                <table id="TblOgr">
                    <thead>
                        <tr>
                            <th class="th-sm">
                                ADI
                            </th>
                            <th class="th-sm">
                                BASLAMA TARIHI
                            </th>
                            <th class="th-sm">
                                BITME TARIHI
                            </th>
                            <th>
                                GUNCERLE - SIL
                            </th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr v-for="u in LISTE">
                            <!--<td v-if="u.FOTOGRAF==''">
                                <img src="../../../img/okyanus_image.jpg" class='img-rounded' height="60" width="60" style="position:center" />
                            </td>
                            <td v-else>
                                <img :src='"data:image/png;base64,"+ u.FOTOGRAF' class='img-rounded' height="60" width="60" style="position:center" />
                            </td>-->
                            <td>{{u.K_ADI}}</td>
                            <td>{{u.K_BAS_TRH}}</td>
                            <td>{{u.K_BIT_TARIH}}</td>
                            <td><input style="float:right;margin: 10px;" type="button" class="btn btn-success" v-on:click="DemoLogin(u)" value="Giriş Yap"></td>
                        </tr>
                    </tbody>
                    <tfoot>
                        <tr>
                            <th class="th-sm">
                                ADI
                            </th>
                            <th class="th-sm">
                                BASLAMA TARIHI
                            </th>
                            <th class="th-sm">
                                BITME TARIHI
                            </th>
                            <th>
                                GUNCERLE - SIL
                            </th>
                        </tr>
                    </tfoot>
                </table>
            </div>
        </div>
    </div>
</div>
<script src="../../../VueComponents/Genel.js?v=3"></script>
<script src="../../VueComponents/Filtre.js"></script>
<script>


    var vue = new Vue({
        el: "#app",
        name: "KitapOkuma",


        data: {
            controller: "KitapOkuma",
            TCKIMLIKNO: '',
            DONEM: 0,
            idsinav: 0,
            /* idsube: 0,*/
            idkademe3: 0,
            idsinif: 0,
            tcogrenci: '',
            oturumogrenci: '',
            /*idsube: [],*/
            LISTE: [],
            sinifAlanList: 0,
            divOgrenci: 0,
        },

        mounted() {
            var _this = this;

            $("#TblOgr").DataTable().destroy();
            _this.$nextTick(function () {
                _this.ListeOlustur('TblOgr');
            });
        },

        methods: {


            Raporla: function (event) {
                $('#filters').collapse('hide');
                this.Getir();
            },

            //SubeSelected(item) {
            //    this.idsube = item;
            //    this.idkademe3 = 0;
            //    //this.idsinif = 0;
            //    //this.divOgrenci = 0;
            //},
            Kademe3Selected(val) {
                this.idkademe3 = val;
            },
            SinifAlanSelected(item) {
                //this.sinifAlanList = $.grep(item, function (el,i) { return el!='Tümü' });
                this.sinifAlanList = item;
                this.divAc = 0;
            },
            //Kaydet() {

            //    vue.$forceUpdate();


            //    var p = {
            //        TCKIMLIKNO: session.TCKIMLIKNO,
            //        OTURUM: session.OTURUM,
            //        ID_SINIF: this.idsinif,
            //        ETUTLIST: JSON.stringify(this.DersProgramiList)
            //    };
            //    WebPost(this, "EtutSabitOlustur", "EtutSabitKaydet", p, "#app", "Yükleniyor...", function (data, parent) {

            //        if (data) {
            //            Alert_Info("Kayıt Yapıldı");
            //        } else {
            //            Alert_Error("Kayıt Yapılırken Hata Oluştu.");
            //        }
            //    });
            //},



            Listele() {
                var p = {
                    TCKIMLIKNO: session.TCKIMLIKNO,
                    OTURUM: session.OTURUM,
                    /* ID_SUBE: this.idsube,*/
                    ID_SINIF: this.sinifAlanList,
                    ID_KADEME3: this.idkademe3
                };

                WebPost(this, this.controller, "DonemListele", p, "#app", "Yükleniyor...", function (data, parent) {
                    parent.LISTE = JSON.parse(data);
                    ListeOlustur('TblOgr');
                });
            },





            DemoLogin(u) {
                window.open('https://pusulam.okyanuskoleji.k12.tr/index.html?TC=' + u.TCKIMLIKNO + '&OTURUM=' + u.OTURUM, '_blank');
                return;
            },

            //ListeOlustur(tabloAdi) {
            //    this.tblSorular = $('#' + tabloAdi).DataTable(
            //        {
            //            "search": {
            //                "caseInsensitive": true
            //            },
            //            "aaSorting": [[3, 'asc']],
            //            language: {
            //                "url": "./Utility/dil.json"

            //            },
            //        });
            //},

        },
    });
</script>
<script src="Scripts/PublicMethods.js"></script>

