
<link href="../../../assets/global/plugins/nouislider/jquery.nouislider.css" rel="stylesheet" />
<head>
    <script src="../../../Scripts/Rapor/amcharts.js"></script>
    <script src="../../../Scripts/Rapor/jquery.easypiechart.js"></script>
    <script src="../../../Scripts/Rapor/light.js"></script>
    <script src="../../../Scripts/Rapor/serial.js"></script>
    <script src="../../../assets/global/plugins/nouislider/jquery.nouislider.js"></script>
    <script src="../../../Scripts/Rapor/pie.js"></script>
</head>
<style>
    .progressbar {
        width: 400px;
        height: 30px;
    }

    .progressbarlabel {
        width: 300px;
        height: 21px;
        position: absolute;
        text-align: center;
        font-size: small;
    }

    #chartdiv {
        width: 100%;
        height: 500px;
        font-size: 11px;
    }

    #chartdiv2 {
        width: 100%;
        height: 500px;
        font-size: 11px;
    }

    .chart {
        position: relative;
        display: inline-block;
        width: 90px;
        height: 90px;
        text-align: center;
    }

        .chart canvas {
            position: absolute;
            top: 0;
            left: 0;
        }

    .percent {
        display: inline-block;
        line-height: 90px;
        z-index: 2;
    }

        .percent:after {
            content: '%';
            margin-left: 0.1em;
            font-size: .8em;
        }

    .badgenew {
        color: black !important;
        font-size: 12px !important;
        font-weight: bold;
        height: 23px;
        padding-top: 5px;
        margin-top: 34px;
        float: none;
    }

    .table > tbody > tr > td, .table > tbody > tr > th, .table > tfoot > tr > td, .table > tfoot > tr > th, .table > thead > tr > td, .table > thead > tr > th {
        font-size: 11px;
    }

    .turuncu {
        background-color: #EA5702;
        color: white;
        font-size: 12px !important;
    }

    .fontsize12 {
        font-size: 12px !important;
    }

    .koyumavi {
        background-color: #0E3170;
        color: white;
    }

    .acikmavi {
        background-color: #2786C3;
        color: white;
    }

    .bordermavi {
        border: #2786C3 1px solid;
        text-align: center;
        color: black;
    }

    .bordersag {
        border-right: #b4d2e6 1px solid;
        text-align: center;
    }

    .analizbaslik {
        background-color: #FFA500 !important;
    }

    .fixed-table-body {
        overflow-x: hidden !important;
    }


    .table > tbody > tr > td, .table > tbody > tr > th, .table > tfoot > tr > td, .table > tfoot > tr > th, .table > thead > tr > td, .table > thead > tr > th {
        font-size: 11px;
    }

    .turuncu {
        background-color: #EA5702;
        color: white;
        font-size: 12px !important;
    }

    .fontsize12 {
        font-size: 12px !important;
    }

    .koyumavi {
        background-color: #0E3170;
        color: white;
    }

    .acikmavi {
        background-color: #2786C3;
        color: white;
    }

    .bordermavi {
        border: #2786C3 1px solid;
        text-align: center;
        color: black;
    }

    .bordersag {
        border-right: #b4d2e6 1px solid;
        text-align: center;
    }

    .analizbaslik {
        background-color: #FFA500 !important;
    }

    .fixed-table-body {
        overflow-x: hidden !important;
    }

    .red {
        color: red;
    }

    #GelisimRaporu table {
        font-family: 'Open Sans', sans-serif;
        width: 100%;
        border-collapse: collapse;
        border: 3px solid #44475C;
        margin: 10px 10px 0 10px;
    }

        #GelisimRaporu table th {
            text-transform: uppercase;
            text-align: left;
            background: #44475C;
            color: #FFF;
            padding: 8px;
            min-width: 30px;
        }

        #GelisimRaporu table td {
            text-align: left;
            padding: 8px;
            border-right: 2px solid #7D82A8;
            font-size: 10px !important;
            cursor: default !important;
        }

    #GelisimRaporu #PuanTablo {
        border: 3px solid #f58320;
    }

        #GelisimRaporu #PuanTablo th {
            text-transform: uppercase;
            text-align: left;
            background: #f58320;
            color: #FFF;
            padding: 8px;
            min-width: 30px;
        }

        #GelisimRaporu #PuanTablo td {
            text-align: left;
            padding: 8px;
            border-right: 2px solid #f58320;
            font-size: 10px !important;
            cursor: default !important;
        }

        #GelisimRaporu #PuanTablo tbody tr:nth-child(2n) td {
            background: #e9c6a8;
        }


    #GelisimRaporu table td:last-child {
        border-right: none;
    }

    #GelisimRaporu table tbody tr:nth-child(2n) td {
        background: #D4D8F9;
    }

    #GelisimRaporu .badge-danger {
        background-color: #F34C59;
        font-size: 9px !important;
    }

    #chartdiv3 {
        width: 100%;
        height: 500px;
        font-size: 11px;
    }

    .amcharts-pie-slice {
        transform: scale(1);
        transform-origin: 50% 50%;
        transition-duration: 0.3s;
        transition: all .3s ease-out;
        -webkit-transition: all .3s ease-out;
        -moz-transition: all .3s ease-out;
        -o-transition: all .3s ease-out;
        cursor: pointer;
        box-shadow: 0 0 30px 0 #000;
    }

        .amcharts-pie-slice:hover {
            transform: scale(1.1);
            filter: url(#shadow);
        }
</style>
<div class="page-head">
    <!-- BEGIN PAGE TITLE -->
    <div class="page-title col-md-12">
        <h1>
            Rapor <small>Öğrenci Raporları</small> <span onclick="YardimGoster(ID_MENU);" class="pull-right" style="cursor:pointer;"><img src="assets/global/img/info.gif" class="info-image-icon" /> </span>
        </h1>
    </div>
    <!-- END PAGE TITLE -->
</div>

<div class="row" id="app">


    <div v-if="divAcDeneme==0">
        <div class="col-md-12">
            <div class="portlet box green-haze dd-item" style="border:none">
                <div class="portlet-title dd-handle" data-toggle='collapse' data-target='#filters' style="cursor:pointer;">
                    <div class="caption">
                        <i class="icon-magnifier"></i>
                        <span class="caption-subject bold uppercase"> Filtreler </span>
                        <span class="caption-helper"></span>
                    </div>
                    <div class='actions'>
                        <a href='javascript:;' class='btn btn-default btn-sm' style='border:none;'>
                            <i class='fa fa-chevron-down'></i>
                        </a>
                    </div>
                </div>
                <div class="portlet-body form collapse in" id="filters">
                    <form role="form" style="padding:12px 20px">
                        <div class="form-body form-group-lg form-horizontal row" style="padding: 0px;margin-top: 0px !important;">
                            <div class="portlet light col-md-12" id="FiltreDivOgretmen" style="margin:0px; border-bottom-style: solid;border-bottom-width: 3px;border-bottom-color: rgb(0, 173, 239);"
                                 v-if="ListKullaniciTipi.indexOf(4)==-1">
                                <div class="portlet-body">
                                    <div class="form-inline">
                                        <c-sube controller="OgrenciRaporlari"
                                                @OnChange="SubeSelected">
                                        </c-sube>
                                        <c-kademe3 controller="OgrenciRaporlari"
                                                   :idsube="idsube"
                                                   @OnChange="Kademe3Selected">
                                        </c-kademe3>
                                        <c-sinif controller="OgrenciRaporlari"
                                                 :idsube="idsube"
                                                 :idkademe3="idkademe3"
                                                 @OnChange="SinifSelected">
                                        </c-sinif>
                                        <c-ogrenci controller="OgrenciRaporlari"
                                                   :idsinif="idsinif"
                                                   @OnChange="OgrenciSelected">
                                        </c-ogrenci>
                                    </div>
                                </div>
                            </div>
                            <div class="portlet light col-md-12" id="FiltreDivOgrenci" style="margin:0px; border-bottom-style: solid;border-bottom-width: 3px;border-bottom-color: rgb(0, 173, 239);"
                                 v-if="ListKullaniciTipi.indexOf(4)>-1 || divOgrenci==1">
                                <div class="portlet-body">
                                    <div class="form-inline">
                                        <c-rapor-tur controller="OgrenciRaporlari"
                                                     @OnChange="RaporTurSelected">
                                        </c-rapor-tur>
                                        <!-- <input style="float:right;margin: 10px;" type="button" class="btn btn-success" v-on:click="Raporla" value="Raporla">-->
                                    </div>
                                </div>
                            </div>
                        </div>
                    </form>
                </div>

            </div>
        </div>
    </div>
    <div v-if="Tbl==1"> <div v-html="htmlTbl"></div> </div>

    <div class="portlet light col-md-12" style="margin:0px; border-bottom-style: solid;border-bottom-width: 3px;border-bottom-color: rgb(0, 173, 239);" v-show="divAraKarne==1">
        <div class="col-md-12">
            <div class="portlet box green-haze dd-item" style="border:none">
                <div class="portlet-title dd-handle" data-toggle='collapse' data-target='#filtersAraKarne' style="cursor:pointer;">
                    <div class="caption">
                        <i class="icon-magnifier"></i>
                        <span class="caption-subject bold uppercase"> Tüm Sınav Rapor Filtreleri </span>
                        <span class="caption-helper"></span>
                    </div>
                    <div class='actions'>
                        <a href='javascript:;' class='btn btn-default btn-sm' style='border:none;'>
                            <i class='fa fa-chevron-down'></i>
                        </a>
                    </div>
                </div>
                <div class="portlet-body form collapse in" id="filtersAraKarne">
                    <form role="form" style="padding:12px 20px">
                        <div class="form-body form-group-lg form-horizontal row" style="padding: 0px;margin-top: 0px !important;">
                            <div class="portlet-body">
                                <div class="form-inline">
                                    <c-donem controller="OgrenciRaporlari"
                                             @OnChange="DonemSelected">
                                    </c-donem>
                                    <!--<c-sinav-turu-arakarne controller="OgrenciRaporlari"
                                                           @OnChange="SinavTuruSelected">
                                    </c-sinav-turu-arakarne>-->
                                    <input style="float:right;margin: 10px;" type="button" class="btn btn-success" v-on:click="AraKarneGetir" value="Raporla">
                                    <input style="float:right;margin: 10px;" type="button" class="btn btn-success" v-on:click="AraKarneYazdir" value="Yazdır">
                                </div>
                            </div>

                        </div>
                    </form>
                </div>

            </div>
        </div>
    </div>
    <div class="portlet light col-md-12" style="padding:0px; margin-bottom:0px;" v-html="htmlAraKarne"></div>

    <!--divGelisimRaporu-->
    <div class="portlet light col-md-12" style="margin:0px; border-bottom-style: solid;border-bottom-width: 3px;border-bottom-color: rgb(0, 173, 239);" v-show="divGelisimRaporu==1">
        <div class="col-md-12">
            <div class="portlet box green-haze dd-item" style="border:none">
                <div class="portlet-title dd-handle" data-toggle='collapse' data-target='#filtersGelisimRaporu' style="cursor:pointer;">
                    <div class="caption">
                        <i class="icon-magnifier"></i>
                        <span class="caption-subject bold uppercase"> Gelişim Raporu Filtreleri </span>
                        <span class="caption-helper"></span>
                    </div>
                    <div class='actions'>
                        <a href='javascript:;' class='btn btn-default btn-sm' style='border:none;'>
                            <i class='fa fa-chevron-down'></i>
                        </a>
                    </div>
                </div>
                <div class="portlet-body form collapse in" id="filtersGelisimRaporu">
                    <form role="form" style="padding:12px 20px">
                        <div class="form-body form-group-lg form-horizontal row" style="padding: 0px;margin-top: 0px !important;">
                            <div class="portlet-body">
                                <div class="form-inline">
                                    <c-donem controller="OgrenciRaporlari"
                                             @OnChange="DonemSelected">
                                    </c-donem>
                                    <c-gelisim-multi controller="OgrenciRaporlari"
                                                     :tc="tcogrenci"
                                                     :donem="DONEM"
                                                     @OnChange="GelisimSelected">
                                    </c-gelisim-multi>

                                    <input style="float:right;margin: 10px;" type="button" class="btn btn-success" v-on:click="GelisimRaporuYazdir" value="Yazdır">
                                    <input style="float:right;margin: 10px;" type="button" class="btn btn-success" v-on:click="GelisimRaporuGetir" value="Raporla">
                                </div>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>

    </div>

    <!--divGelisimRaporuOO-->
    <div class="portlet light col-md-12" style="margin:0px; border-bottom-style: solid;border-bottom-width: 3px;border-bottom-color: rgb(0, 173, 239);" v-show="divGelisimRaporuOO==1">
        <div class="col-md-12">
            <div class="portlet box green-haze dd-item" style="border:none">
                <div class="portlet-title dd-handle" data-toggle='collapse' data-target='#filtersGelisimRaporu' style="cursor:pointer;">
                    <div class="caption">
                        <i class="icon-magnifier"></i>
                        <span class="caption-subject bold uppercase"> Gelişim Raporu OO Filtreleri </span>
                        <span class="caption-helper"></span>
                    </div>
                    <div class='actions'>
                        <a href='javascript:;' class='btn btn-default btn-sm' style='border:none;'>
                            <i class='fa fa-chevron-down'></i>
                        </a>
                    </div>
                </div>
                <div class="portlet-body form collapse in" id="filtersGelisimRaporu">
                    <form role="form" style="padding:12px 20px">
                        <div class="form-body form-group-lg form-horizontal row" style="padding: 0px;margin-top: 0px !important;">
                            <div class="portlet-body">
                                <div class="form-inline">
                                    <c-donem controller="OgrenciRaporlari"
                                             @OnChange="SinavDonemSelected" />
                                    <c-gelisimraporu-tur  controller="OgrenciRaporlari" @OnChange="GelisimTurSelected" />
                                    <input style="float:right;margin: 10px;" type="button" class="btn btn-success" v-on:click="KaydetGelisimRaporuOO" value="Kaydet">
                                    <input style="float:right;margin: 10px;" type="button" class="btn btn-success" v-on:click="YazdirGelisimRaporuOO" value="Raporla">
                                </div>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>

    </div>

    <!--divAcDeneme-->
    <div v-show="divAcDeneme==1" class="col-md-12">
        <div class="portlet light" id="Tablodiv" style="padding:0px;">
            <div class="col-md-12" style="float:right;display:inherit">
                <input style="float:right;margin: 10px;" type="button" class="btn btn-success" v-on:click="Yazdir" value="Yazdır">
                <input style="float:right;margin: 10px;" type="button" class="btn" v-on:click="GeriDeneme();" value="Geri">
            </div>
            <div v-html="htmlDeneme"></div>
        </div>
    </div>

    <div v-show="divAcYazili==1" class="portlet light" id="TablodYazili" style="padding:0px;">
        <div class="col-md-12" style="float:right;display:inherit" id="ExcelButon">
            <input style="float:right;margin: 10px;" type="button" class="btn btn-success" onclick="Glb_Print('');" value="Yazdır">
        </div>
        <div v-html="htmlYazili"></div>
    </div>

    <div class="col-md-12 row" id="divKonu" v-show="divKonuFiltre==1">
        <div class="col-md-12">
            <div class="portlet box green-haze dd-item" style="border:none">
                <div class="portlet-title dd-handle" data-toggle='collapse' data-target='#filtersKonu' style="cursor:pointer;">
                    <div class="caption">
                        <i class="icon-magnifier"></i>
                        <span class="caption-subject bold uppercase"> Konu Analizi Filtreleri </span>
                        <span class="caption-helper"></span>
                    </div>
                    <div class='actions'>
                        <a href='javascript:;' class='btn btn-default btn-sm' style='border:none;'>
                            <i class='fa fa-chevron-down'></i>
                        </a>
                    </div>
                </div>
                <div class="portlet-body form collapse in" id="filtersKonu">
                    <form role="form" style="padding:12px 20px">
                        <div class="form-body form-group-lg form-horizontal row" style="padding: 0px;margin-top: 0px !important;">
                            <div class="portlet-body">
                                <div class="form-inline">
                                    <c-donem controller="OgrenciRaporlari"
                                             @OnChange="DonemSelected">
                                    </c-donem>
                                    <c-sinav-turu-tc controller="OgrenciRaporlari"
                                                     :tc="tcogrenci"
                                                     :donem="DONEM"
                                                     @OnChange="SinavTuruSelected">
                                    </c-sinav-turu-tc>
                                    <c-sinav-multi controller="OgrenciRaporlari"
                                                   :idsinavturu="idsinavturu"
                                                   :donem="DONEM"
                                                   :tc="tcogrenci"
                                                   @OnChange="SinavSelected">
                                    </c-sinav-multi>
                                    <div class="col-md-2">
                                        <div class="form-group" id="RaporTool" style="padding-left:10px; padding-right:10px;">
                                            <div id="slider-range">
                                            </div>
                                            <div id="value" class="col-md-12" value="100.00" style="text-align:center; height:30px; margin-top:10px;">
                                                %100.00 Altındakileri Raporla
                                            </div>
                                        </div>
                                    </div>
                                    <input style="float:right;margin: 10px;" type="button" class="btn btn-success" v-on:click="RaporlaKonu" value="Raporla">
                                </div>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
    <div v-show="divAcKonu==1" class="portlet light" style="padding:0px; margin-bottom:0px!important;">
        <div class="col-md-12 row">
            <div class="col-md-12" style="float:right;display:inherit" id="ExcelButon">
                <input style="float:right;margin: 10px;" type="button" class="btn btn-success" onclick="Glb_Print('tablobaslik');" value="Yazdır">
            </div>
        </div>
        <div class="col-md-12 row">
            <div class="col-md-8">
                <table id="tablobaslik" class="table table-striped table-condensed" style="margin-bottom:0px; color:#111">
                    <thead id="thKonu"></thead>
                    <tbody id="tbKonu"></tbody>
                </table>
            </div>
            <div class="col-md-4">
                <c-ders-multi :dersler="dersler"
                              @OnChange="DersSelected">
                </c-ders-multi>
                <div id="chartdiv"></div>
            </div>
        </div>
    </div>


    <div class="row" id="GelisimRaporu" v-show="divGelisimRaporu==1" style="margin:0px!important;">
        <div class="portlet light col-md-12" v-for="item in GelisimRaporuLISTE">
            <div class="col-md-6">
                <div class="col-md-6" style="background: #005189; color: #FFF; margin-left:10px;">{{item.STKISAAD}} {{item.DERSAD}}  </div>
                <div class="col-md-6" style="background: #005189; color: #FFF; margin-right:-17px;">Soru Sayısı : {{item.SORUSAYISI}}  </div>
                <c-tablo tabloadi="DersTablo"
                         :gelendata="item.SINAVLIST"
                         :istisna="istisna">
                </c-tablo>
            </div>
            <div class="col-md-6">
                <div class="form-group">
                    <div class="col-md-12" style="background: #005189; color: #FFF; margin-left:10px;">{{item.STKISAAD}} {{item.DERSAD}} DERS BAŞARI GRAFİĞİ </div>
                    <div class="col-md-12" :id='"GelisimRaporuchartdiv-"+item.DERSAD+"-"+item.ID_SINAVTURU' style="height:260px;"> </div>
                </div>
            </div>

        </div>
        <div class="portlet light col-md-12" v-if="TN==true  && GelisimRaporuTSS>0">
            <div class="col-md-6">
                <div class="col-md-6" style="background: #f58320; color: #FFF; margin-left:10px;"> TOPLAM </div>
                <div class="col-md-6" style="background: #f58320; color: #FFF; margin-right:-17px;">Soru Sayısı : {{GelisimRaporuTSS}}  </div>
                <c-tablo tabloadi="PuanTablo"
                         :gelendata="GelisimRaporuSINAVLISTE"
                         :istisna="SINAVISTISNA">
                </c-tablo>
            </div>
            <div class="col-md-6">
                <div class="form-group">
                    <div class="col-md-12" id="GelisimRaporuchartdivSinav" style="height:260px;">

                    </div>
                </div>
            </div>

        </div>
        <div class="portlet light col-md-12" v-for="item in GelisimRaporuPUANLISTE">
            <div class="col-md-6">
                <div class="col-md-6" style="background: #f58320; color: #FFF; margin-left:10px;">{{item.PUANTURU}} </div>
                <c-tablo tabloadi="PuanTablo"
                         :gelendata="item.P"
                         :istisna="PUANISTISNA">
                </c-tablo>
            </div>
            <div class="col-md-6">
                <div class="form-group">
                    <div class="col-md-12" :id='"GelisimRaporuchartdivPuan"+item.ID_SINAVPUANTURU' style="height:260px;">

                    </div>
                </div>
            </div>
        </div>

        <div class="portlet light col-md-12" v-if="ETUTLISTE!=undefined && ETUTLISTE.length>0">
            <table class="table table-striped table-bordered table-hover">
                <thead>
                    <tr>
                        <th>TARİH</th>
                        <th>BRANŞ</th>
                        <th>İÇERİK</th>
                    </tr>
                </thead>
                <tbody>
                    <tr v-for="ETUT in ETUTLISTE">
                        <td>{{ETUT.TARIH}}</td>
                        <td>{{ETUT.BRANS}}</td>
                        <td>{{ETUT.ICERIK}}</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>

    <div class="col-md-12 row" id="divOdevTakibiFiltre" v-if="divOdevTakibiFiltre==1">
        <div class="col-md-12">
            <div class="portlet box green-haze dd-item" style="border:none">
                <div class="portlet-title dd-handle" data-toggle='collapse' data-target='#filtersKonu' style="cursor:pointer;">
                    <div class="caption">
                        <i class="icon-magnifier"></i>
                        <span class="caption-subject bold uppercase"> Ödev Takibi Filtreleri </span>
                        <span class="caption-helper"></span>
                    </div>
                    <div class='actions'>
                        <a href='javascript:;' class='btn btn-default btn-sm' style='border:none;'>
                            <i class='fa fa-chevron-down'></i>
                        </a>
                    </div>
                </div>
                <div class="portlet-body form collapse in" id="filtersKonu">
                    <form role="form" style="padding:12px 20px">
                        <div class="form-body form-group-lg form-horizontal row" style="padding: 0px;margin-top: 0px !important;">
                            <div class="portlet-body">
                                <div class="form-inline">
                                    <c-donem controller="OgrenciRaporlari"
                                             @OnChange="DonemSelected">
                                    </c-donem>
                                    <div class="form-md-line-input">
                                        <div class="col-md-2">
                                            <select class="selectpicker form-control" v-model="idders" title="Ders Seçiniz." @change="OdevTakibiListele">
                                                <option v-for="u in ODEVLISTE" v-bind:value="u.ID_DERS">{{u.DERSAD}}</option>
                                            </select>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <div v-show="divOdevTakibi==1" class="portlet light" style="padding:0px; margin-bottom:0px!important;">
        <div class="portlet light col-md-12" v-show="ODEVLISTE.length>0">
            <div class="form-group" style="text-align: center;">
                <h4>
                    Genel Ödev Durumu
                </h4>
                <h6><div style="color:red;" id="divTOS"></div></h6>
                <div id="chartdiv3" class="chart" style="width: 100%; height: 300px;">
                </div>
            </div>
        </div>
    </div>


</div>
<script src="../../../VueComponents/Genel.js?v=3"></script>
<script src="../../../VueComponents/SinavFiltreleri.js?v=8"></script>
<script src="../../../VueComponents/KonuAnaliziFiltreleri.js?v=3"></script>
<script src="../../../VueComponents/OgrenciRaporlariFiltreleri.js?v=3"></script>

<script src="../../../VueComponents/SinavIstatistikFiltreleri.js?v=3"></script>
<script>
    function btnDeneme(item) {
        vue.DenemeGetir(item);
    }
    function btnYazili(item) {
        vue.YaziliGetir(item);
    }
    var vue = new Vue({
        el: "#app",
        name: "OgrenciRaporlari.html",

        data: {
            idsinavpuanturu: 0,
            TCKIMLIKNO: '',
            DONEM: '',
            LISTE: [],
            dersler: [],
            t1: [],
            t2: [],
            t3: [],
            t4: [],
            t5: [],
            t6: [],
            sinavlar: [],
            thTablo: '',
            tbTablo: '',
            Tbl: 0,
            htmlTbl: '',
            a1: [],
            a3: [],
            htmlAraKarne: '',
            htmlYazili: '',
            htmlDeneme: '',
            gdata: [],
            seciliDers: [],
            idsinavs: [],

            divAc: 0,
            divOgrenci: 0,
            divAcYazili: 0,
            divAcDeneme: 0,
            divAcKonu: 0,
            divAraKarne: 0,
            divGelisimRaporu: 0,
            divGelisimRaporuOO: 0,
            divOdevTakibi: 0,

            divOdevTakibiFiltre: 0,
            divKonuFiltre: 0,

            idsinav: 0,
            idders: 0,
            idsube: 0,
            idkademe3: 0,
            idsinif: 0,
            tcogrenci: '',
            idsinavturu: 0,
            idkullanicitur: 0,
            ListKullaniciTipi: [],
            raportur: 0,
            tabloHTML: '',
            htmlYaz: '',
            GelisimRaporuDers: 0,
            GelisimRaporuLISTE: [],
            istisna: ["TC_OGRENCI", "TCKIMLIKNO", "YUZDE"],
            GelisimRaporuTSS: 0,

            GelisimRaporuSINAVLISTE: [],
            SINAVISTISNA: ["ID_SINAV", "TCKIMLIKNO", "SS"],
            TSS: 0,

            GelisimRaporuPUANLISTE: [],
            PUANISTISNA: ["ID_SINAVPUANTURU", "PTKOD"],

            ODEVLISTE: [],
            filtre: [],
            dersList: [],
            ptList: [],
            tnList: [],
            TN: false,
            RAPORTURLIST: [],
            DONEMSINAV: '',
            ETUTLISTE: [],
            siralamayiGizle: false
        },
        mounted() {
            var rangeSlider = document.getElementById('slider-range');
            noUiSlider.create(rangeSlider, {
                start: 100,
                behaviour: 'snap',
                connect: 'lower',
                range: {
                    'min': 0,
                    'max': 100
                }
            });

            var field = document.getElementById('value');
            rangeSlider.noUiSlider.on('slide', function (value) {
                $("#value").html("%" + value + " Altındakileri Raporla");
                $("#value").attr("value", value);
            });
            this.ListeOlustur();

            var p = {
                TCKIMLIKNO: session.TCKIMLIKNO,
                OTURUM: session.OTURUM
            };
            var list = [];
            WebPost(this, "OgrenciRaporlari", "KullaniciTipiGetir", p, "#app", "Yükleniyor...", function (data, parent) {
                if (data != null) {
                    $.each(data, function (j, el) {
                        list.push(this.ID_KULLANICITIPI)
                    });
                    parent.ListKullaniciTipi = list;
                    if (list.indexOf(4) > -1)
                        parent.tcogrenci = session.TCKIMLIKNO;
                } else {
                    Alert_Warning("Kullanıcı Bulunamadı..!");
                }
            });
        },

        methods: {
            SubeSelected(item) {
                this.idsube = item;
                this.idkademe3 = 0;
                this.idsinif = 0;
                this.divOgrenci = 0;
                this.divAc = 0;
                this.Sifirla();
            },
            Kademe3Selected(item) {
                this.idkademe3 = item;
                this.idsinif = 0;
                this.divOgrenci = 0;
                this.divAc = 0;
                this.Sifirla();
            },
            SinifSelected(item) {
                this.idsinif = item;
                this.divOgrenci = 0;
                this.divAc = 0;
                this.Sifirla();
            },
            OgrenciSelected(item) {
                this.tcogrenci = item;
                this.Sifirla();

                var _this = this;
                _this.$nextTick(function () {
                    _this.divOgrenci = 1;
                    _this.divAc = 0;
                });
            },
            GelisimTurSelected(item) {
                this.RAPORTURLIST = item;
            },
            SinavDonemSelected(item) {
                this.DONEMSINAV = item;
            },
            KaydetGelisimRaporuOO() {
                if (this.tcogrenci == undefined || this.tcogrenci == 0 || this.tcogrenci == '') {
                    Alert_Warning("Öğrenci seçmeniz gerekmektedir.");
                    return;
                } else {
                    window.open('../RaporGelisimRaporuOO.aspx?rapor=Sinav.GelisimRaporuOOMain&raporTur=pdf&p=' + session.TCKIMLIKNO + ';' + session.OTURUM + ';' + this.tcogrenci + ';' + this.idsinif + ';' + JSON.stringify(this.RAPORTURLIST).replace('-1,', '') + ';' + this.DONEMSINAV + ';' + 2 + ';' + 1141, '_blank');
                }
            },
            YazdirGelisimRaporuOO() {
                if (this.tcogrenci == undefined || this.tcogrenci == 0 || this.tcogrenci == '') {
                    Alert_Warning("Öğrenci seçmeniz gerekmektedir.");
                    return;
                } else {
                    window.open('../Rapor.aspx?rapor=Sinav.GelisimRaporuOOMain&raporTur=pdf&p=' + session.TCKIMLIKNO + ';' + session.OTURUM + ';' + this.tcogrenci + ';' + this.idsinif + ';' + JSON.stringify(this.RAPORTURLIST).replace('-1,', '') + ';' + this.DONEMSINAV + ';' + 1 + ';' + 1141, '_blank');
                }
            },
            OgrenciVeliSelected(item) {
                this.tcogrenci = item;
                this.Sifirla();

                var _this = this;
                _this.$nextTick(function () {
                    _this.divOgrenci = 1;
                    _this.divAc = 0;
                });
            },
            DonemSelected(item) {
                this.DONEM = item;
                this.divAc = 0;
                if (this.divOdevTakibi == 1) {
                    this.OdevTakibiGetir();
                }
            },
            SinavTuruSelected(item) {
                this.idsinavturu = item;
                this.idsinavs = [];
                this.divAc = 0;
                this.KonuGetir();
            },
            SinavSelected(item) {
                this.idsinavs = item;
                this.divAc = 0;
            },
            DersSelected(item) {
                this.seciliDers = item;
                if (item.length == 0)
                    this.KonuListele();
                else
                    this.KonuListeleDers();
            },
            SinavPuanTuruSelected(item) {
                this.idsinavpuanturu = item;
                this.SnvPuanlari();
            },

            distinct(data, key) {
                var distList = [];
                $.each(data, function (j, item) {
                    if (distList.indexOf(item[key]) == -1) {
                        distList.push(item[key]);
                    }
                });
                return distList;
            },
            getObjects(obj, key, val) {
                var objects = [];
                for (var i in obj) {
                    if (!obj.hasOwnProperty(i)) continue;
                    if (typeof obj[i] == 'object') {
                        objects = objects.concat(this.getObjects(obj[i], key, val));
                    } else if (i == key && obj[key] == val) {
                        objects.push(obj);
                    }
                }
                return objects;
            },

            Sifirla() {
                this.divAcYazili = 0;
                this.divAcDeneme = 0;
                this.divAcKonu = 0;
                this.divAraKarne = 0;
                this.divGelisimRaporu = 0;
                this.divGelisimRaporuOO = 0;
                this.divAcYazili = 0;
                this.divAcDeneme = 0;
                this.divAcKonu = 0;
                this.divKonuFiltre = 0;
                this.divOdevTakibi = 0;
                this.divOdevTakibiFiltre = 0;

                this.htmlDeneme = "",

                $("#cmbRaporTur").val(0);

                $("#cmbRaporTur").selectpicker('refresh');
            },

            RaporTurSelected(item) {

                $("#filters").collapse('hide');
                this.Sifirla();

                this.raportur = item;

                this.thTablo = "<tr></tr>";
                this.tbTablo = "<tr></tr>";
                this.Tbl = 0;
                // $("#divKonu").attr("style", "visibility:hidden");

                this.htmlDeneme = '<div class="col-md-12"><div>';
                this.htmlAraKarne = '<div class="col-md-12"><div>';
                this.htmlYazili = '<div class="col-md-12"><div>';
                this.$nextTick(function () {
                    this.divAc = 1;
                });


                if (item == 1) {
                    this.Tbl = 1;
                    divAcDeneme = 1;
                    var html = '';
                    html += '<tr>                           ';
                    html += '<th>Öğretim Yılı</th>          ';
                    html += '<th>Sınav Tarihi</th>          ';
                    html += '<th>Sınav Adı</th>             ';
                    html += '<th>İşlemler</th>              ';
                    html += '</tr>                          ';
                    this.thTablo = html;
                    var _this = this;
                    var p = {
                        TCKIMLIKNO: session.TCKIMLIKNO,
                        OTURUM: session.OTURUM,
                        TC_OGRENCI: this.tcogrenci
                    };
                    WebPost(this, "OgrenciRaporlari", "DenemeSinavSonucListeGetir", p, "#app", "Yükleniyor...", function (data, parent) {

                        if (data != null) {
                            $.each(data, function (j, el) {
                                parent.tbTablo += '<tr>';
                                parent.tbTablo += '<td>' + el.DONEM + '</td>';
                                parent.tbTablo += '<td>' + el.SINAVTARIH + '</td>';
                                parent.tbTablo += '<td>' + el.AD + '</td>';
                                parent.tbTablo += '<td style="width:100px;"><input style="float:right;margin: 10px;" type="button" class="btn btn-success" onclick="btnDeneme(' + el.ID_SINAV + ')" value="Raporla"></td>';
                                parent.tbTablo += '</tr>';
                            });
                            parent.htmlTbl = '<table class="table table-striped table-bordered table-hover table-checkable order-column" id="TblYaz" >  ';
                            parent.htmlTbl += '    <thead id="thead" >' + parent.thTablo + '</thead>                                                             ';
                            parent.htmlTbl += '    <tbody id="tbody" >' + parent.tbTablo + '</tbody>                                                             ';
                            parent.htmlTbl += '</table>     ';
                            $("#TblYaz").DataTable().destroy();
                            vue.$nextTick(function () {
                                vue.ListeOlustur();
                            });
                        } else {
                            Alert_Warning("Sınav Bulunamadı..!");
                        }
                    });



                }
                else if (item == 2) {
                    divAcYazili = 1;
                    this.Tbl = 1;

                    var html = '';
                    html += '<tr>                           ';
                    html += '<th>Öğretim Yılı</th>          ';
                    html += '<th>Sınav Tarihi</th>          ';
                    html += '<th>Sınav Adı</th>             ';
                    html += '<th>Puan</th>                  ';
                    html += '<th>İşlemler</th>              ';
                    html += '</tr>                          ';
                    this.thTablo = html;

                    var p = {
                        TCKIMLIKNO: session.TCKIMLIKNO,
                        OTURUM: session.OTURUM,
                        TC_OGRENCI: this.tcogrenci
                    };

                    this.tbTablo = "";
                    WebPost(this, "OgrenciRaporlari", "YaziliYoklamaSonucListeGetir", p, "#app", "Yükleniyor...", function (data, parent) {

                        if (data != null) {
                            $.each(data, function (j, el) {
                                parent.tbTablo += '<tr>';
                                parent.tbTablo += '<td>' + el.DONEM + '</td>';
                                parent.tbTablo += '<td>' + el.SINAVTARIH + '</td>';
                                parent.tbTablo += '<td>' + el.AD + '</td>';
                                parent.tbTablo += '<td>' + el.PUAN + '</td>';
                                parent.tbTablo += '<td><input style="float:right;margin: 10px;" type="button" class="btn btn-success" onclick="btnYazili(' + el.ID_SINAV + ')" value="Raporla"></td>';
                                parent.tbTablo += '</tr>';
                            });

                            parent.htmlTbl = '<table class="table table-striped table-bordered table-hover table-checkable order-column" id="TblYaz" >  ';
                            parent.htmlTbl += '    <thead id="thead" >' + parent.thTablo + '</thead>                                                             ';
                            parent.htmlTbl += '    <tbody id="tbody" >' + parent.tbTablo + '</tbody>                                                             ';
                            parent.htmlTbl += '</table>     ';
                            $("#TblYaz").DataTable().destroy();
                            vue.$nextTick(function () {
                                vue.ListeOlustur();
                            });
                        } else {
                            Alert_Warning("Sınav Bulunamadı..!");
                        }
                    });
                }
                else if (item == 3) {
                    //$("#divKonu").attr("style", "visibility:visible");
                    this.divKonuFiltre = 1;
                    this.divAcKonu = 1;
                    this.KonuGetir();
                }
                else if (item == 4) {
                    this.divGelisimRaporu = 1;
                }
                else if (item == 10) {
                    this.divGelisimRaporuOO = 1;
                }
                else if (item == 5) {
                    this.divAraKarne = 1;
                    //this.AraKarneGetir();
                }
                else if (item == 7) {
                    this.divOdevTakibi = 1;
                    this.divOdevTakibiFiltre = 1;
                }
                else {
                    //$("#divKonu").attr("style", "visibility:hidden");
                    //$("#divOdevTakibiFiltre").attr("style", "visibility:hidden");
                    this.divKonuFiltre = 0;
                    this.divOdevTakibiFiltre = 1;
                }
            },

            //  Gelişim
            GelisimSelected(item) {
                this.filtre = item;
                this.dersList = $.grep(this.filtre, function (n, i) { return n.includes('D-'); });
                this.ptList = $.grep(this.filtre, function (n, i) { return n.includes('P-'); });
                this.tnList = $.grep(this.filtre, function (n, i) { return n.includes('TOPLAM NET'); });
                this.TN = this.tnList.length > 0 ? true : false;
            },
            GelisimRaporuYazdir() {
                window.open('../Rapor.aspx?rapor=Sinav.GelisimRaporu&raporTur=pdf&p=' + session.TCKIMLIKNO + ';' + session.OTURUM + ';' + this.tcogrenci + ';' + JSON.stringify(this.dersList).replace(/D-/g, '') + ';' + JSON.stringify(this.ptList).replace(/P-/g, '') + ';' + this.TN + ';' + this.DONEM + ";" + 1, '_blank');
            },
            GelisimRaporuDersSelected(item) {
                this.GelisimRaporuDers = item;
                this.GelisimRaporuGetir();
            },
            Raporla: function (event) {
                this.Getir();
            },
            RaporlaKonu: function (event) {
                this.KonuGetir();
            },
            Getir() {
                if (this.DONEM != "" && this.tcogrenci != "") {
                    this.divAc = 1;
                    var p = {
                        TCKIMLIKNO: session.TCKIMLIKNO,
                        OTURUM: session.OTURUM,
                        TC_OGRENCI: this.tcogrenci,
                        DONEM: this.DONEM,
                        ID_SINAVTURU: this.idsinavturu
                    };

                    WebPost(this, "OgrenciRaporlari", "OgrenciRaporlari", p, "#app", "Yükleniyor...", function (data, parent) {
                        if (data != null) {
                            parent.t1 = JSON.parse(data)[0].t1;
                            parent.t2 = JSON.parse(data)[0].t2;
                            parent.t3 = JSON.parse(data)[0].t3;

                            parent.Listele();

                        } else {
                            Alert_Warning("Sınav Bulunamadı..!");
                        }
                    });
                }
            },

            ListeOlustur() {
                tblSorular = $('#TblYaz').DataTable(
                {
                    "columnDefs": [{ "width": "25%", "targets": 0 }],
                    "aoColumnDefs": [{ "aTargets": [0] }],
                    "aaSorting": [[0, 'asc']],
                    language: {
                        "url": "./Utility/dil.json"
                    }
                });
            },

            GelisimRaporuGetir() {
                if (this.DONEM != "" && this.tcogrenci != "") {
                    var p = {
                        TCKIMLIKNO: session.TCKIMLIKNO,
                        OTURUM: session.OTURUM,
                        TC_OGRENCI: this.tcogrenci,
                        DONEM: this.DONEM,
                        ID_DERSs: JSON.stringify(this.dersList).replace(/D-/g, ''),
                        ID_SINAVPUANTURUs: JSON.stringify(this.ptList).replace(/P-/g, ''),
                        TN: this.TN,
                    };


                    $('#filtersGelisimRaporu').collapse('hide');
                    var _this = this;
                    _this.GelisimRaporuLISTE = [];
                    _this.GelisimRaporuSINAVLISTE = [];
                    _this.GelisimRaporuPUANLISTE = [];
                    _this.GelisimRaporuTSS = 0;
                    WebPost(this, "OgrenciRaporlari", "GelisimRaporu", p, "#app", "Yükleniyor...", function (data, parent) {
                        if (JSON.parse(data)[0].t1 != undefined) {
                            _this.t1 = JSON.parse(data)[0].t1;
                            _this.t2 = JSON.parse(data)[0].t2;
                            _this.t3 = JSON.parse(data)[0].t3;
                            _this.ETUTLISTE = JSON.parse(data)[0].t4;

                            _this.GelisimRaporuLISTE = _this.t1;
                            _this.GelisimRaporuSINAVLISTE = _this.t2;
                            _this.GelisimRaporuPUANLISTE = _this.t3;

                            if (_this.GelisimRaporuSINAVLISTE != undefined) {
                                _this.GelisimRaporuTSS = _this.GelisimRaporuSINAVLISTE[0].SS;
                            }

                            _this.GelisimRaporuGrafikler();

                        } else {
                            Alert_Warning("Sınav Bulunamadı..!");
                        }
                    });

                }
            },

            GelisimRaporuGrafikler() {
                var _this = this;
                var dist = this.distinct(_this.t1, "ID_SINAVTURU");
                var distDers = this.distinct(_this.t1, "DERSAD");

                $.each(distDers, function (j, ders) {
                    $.each(dist, function (j, el) {
                        //var a = _this.getObjects(_this.t1, "ID_SINAVTURU", el);
                        //a = _this.getObjects(a, "DERSAD", ders);

                        var a = _this.getObjects(_this.getObjects(_this.t1, "DERSAD", ders), "ID_SINAVTURU", el);
                        if (a[0] != undefined) {

                            var datapro = [];

                            $.each(a[0].SINAVLIST, function (i, sel) {
                                var eleman = {
                                    "yuzde": parseFloat(sel.YUZDE),
                                    "sinav": sel["SINAV ADI"],
                                    "balloonTextField": sel.YUZDE,
                                };
                                datapro.push(eleman);
                            });
                            _this.$nextTick(() => {
                                AmchartOlustur("GelisimRaporuchartdiv-" + ders + "-" + el, datapro, 100, "yuzde", "sinav", undefined, "", true);
                            });
                        }
                    });
                });

                // SINAV LISTE (TOPLAM)
                var datapro = [];
                $.each(_this.GelisimRaporuSINAVLISTE, function (i, sel) {
                    var eleman = {
                        "yuzde": parseFloat(sel["BAŞARI %"]),
                        "sinav": sel["SINAV ADI"],
                        "balloonTextField": sel["BAŞARI %"],
                    };
                    datapro.push(eleman);
                });
                _this.$nextTick(() => {
                    AmchartOlustur("GelisimRaporuchartdivSinav", datapro, 100, "yuzde", "sinav", undefined, "", true);
                });


                var dist2 = this.distinct(_this.t3, "ID_SINAVPUANTURU");
                //var k = [];
                //$.each(dist, function (j, el) {
                //    k.push( _this.getObjects( _this.t1, "ID_SINAVTURU", el));
                //});

                $.each(dist2, function (j, el) {
                    var a = _this.getObjects(_this.t3, "ID_SINAVPUANTURU", el);
                    var datapro = [];
                    $.each(a[0].P, function (i, sel) {
                        var eleman = {
                            "yuzde": parseFloat(sel["BAŞARI %"]),
                            "sinav": sel["SINAV ADI"],
                            "balloonTextField": sel["BAŞARI %"],
                        };
                        datapro.push(eleman);
                    });
                    _this.$nextTick(() => {
                        AmchartOlustur("GelisimRaporuchartdivPuan" + el, datapro, 100, "yuzde", "sinav", undefined, "", true);
                    });
                })
            },

            //  deneme sınav
            Yazdir: function (event) {
                window.open('../Rapor.aspx?rapor=Sinav.SinavSonuclari&raporTur=pdf&p=' + session.TCKIMLIKNO + ';' + session.OTURUM + ';' + this.tcogrenci + ';' + this.idsinav + ";" + 2, '_blank');
            },

            GeriDeneme() {
                this.Tbl = 1;
                this.divAcDeneme = 0;
            },

            DenemeGetir(item) {
                this.idsinav = item;
                this.Tbl = 0;
                this.divAcDeneme = 1;
                var p = {
                    TCKIMLIKNO: session.TCKIMLIKNO,
                    OTURUM: session.OTURUM,
                    TC_OGRENCI: this.tcogrenci,
                    ID_SINAV: item
                };

                WebPost(this, "OgrenciRaporlari", "DenemeSinavSonuclari", p, "#app", "Yükleniyor...", function (data, parent) {
                    if (data != null) {
                        parent.t1 = JSON.parse(data)[0].t1;
                        parent.t2 = JSON.parse(data)[0].t2;
                        parent.t3 = JSON.parse(data)[0].t3;
                        parent.t4 = JSON.parse(data)[0].t4;
                        parent.t5 = JSON.parse(data)[0].t5;
                        vue.siralamayiGizle = JSON.parse(data)[0].t1[0].SIRALAMAYIGIZLE;
                        parent.htmlDeneme = '<div><div>';
                        parent.ogrenciBilgi();
                        parent.Siralama();
                        parent.DersBilgi();
                        parent.CevapAnahtari();
                        parent.Grafik();
                        parent.KonuAnaliz();

                        
                    } else {
                        Alert_Warning("Sınav Bulunamadı..!");
                    }
                });
            },

            ogrenciBilgi() {
                //$("#adSoyad").text(this.t1[0].ADSOYAD);
                //$("#okul").text(this.t1[0].SUBEAD);
                //$("#sinavAd").text(this.t1[0].SINAVAD);
                //$("#sinavTarih").text(this.t1[0].SINAVTARIH);
                //$("#kitapcik").text(this.t1[0].KITAPCIK);

                //$("#sinifKatilim").text(this.t1[0].SINIFKATILIM);
                //$("#okulKatilim").text(this.t1[0].SUBEKATILIM);
                //$("#ilceKatilim").text(this.t1[0].ILCEKATILIM);
                //$("#ilKatilim").text(this.t1[0].ILKATILIM);
                //$("#genelKatilim").text(this.t1[0].GENELKATILIM);

                var html = '';
                html += '            <div class="col-md-3">                                                                       ';
                html += '            <table class="table table-striped table-bordered table-checkable">                           ';
                html += '                <tr>                                                                                     ';
                html += '                    <th colspan="2" style="text-align:center" class="koyumavi">ÖĞRENCİ BİLGİLERİ</th>    ';
                html += '                </tr>                                                                                    ';
                html += '                <tr>                                                                                     ';
                html += '                    <th class="acikmavi">AD SOYAD</th>                                                   ';
                html += '                    <td class ="bordersag" id="adSoyad">' + this.t1[0].ADSOYAD + '</td>                      ';
                html += '                </tr>                                                                                    ';
                html += '                <tr>                                                                                     ';
                html += '                    <th class="acikmavi">OKUL</th>                                                       ';
                html += '                    <td class ="bordersag" id="okul">' + this.t1[0].SUBEAD + '</td>                          ';
                html += '                </tr>                                                                                    ';
                html += '                <tr>                                                                                     ';
                html += '                    <th class="acikmavi">SINAV</th>                                                      ';
                html += '                    <td class ="bordersag" id="sinavAd">' + this.t1[0].SINAVAD + '</td>                      ';
                html += '                </tr>                                                                                    ';
                html += '                <tr>                                                                                     ';
                html += '                    <th class="acikmavi">TARİH</th>                                                      ';
                html += '                    <td class ="bordersag" id="sinavTarih">' + this.t1[0].SINAVTARIH + '</td>                ';
                html += '                </tr>                                                                                    ';
                html += '                <tr>                                                                                     ';
                html += '                    <th class="acikmavi">KITAPCIK</th>                                                   ';
                html += '                    <td class ="bordersag" id="kitapcik">' + this.t1[0].KITAPCIK + '</td>                    ';
                html += '                </tr>                                                                                    ';
                html += '            </table>                                                                                     ';
                html += '        </div>                                                                                           ';
                html += '        <div class ="col-md-3">                                                                          ';
                html += '    <table class ="table table-striped table-bordered table-checkable">                                  ';
                html += '        <tr>                                                                                             ';
                html += '            <th colspan="2" style="text-align:center" class ="koyumavi">KATILIM BİLGİLERİ</th>           ';
                html += '        </tr>                                                                                            ';
                html += '        <tr>                                                                                             ';
                html += '            <th class ="acikmavi">SINIF</th>                                                             ';
                html += '            <td class ="bordersag" id="sinifKatilim">' + this.t1[0].SINIFKATILIM + '</td>                    ';
                html += '        </tr>                                                                                            ';
                html += '        <tr>                                                                                             ';
                html += '            <th class ="acikmavi">OKUL</th>                                                              ';
                html += '            <td class ="bordersag" id="okulKatilim">' + this.t1[0].SUBEKATILIM + '</td>                      ';
                html += '        </tr>                                                                                            ';
                html += '        <tr>                                                                                             ';
                html += '            <th class ="acikmavi">ILCE</th>                                                              ';
                html += '            <td class ="bordersag" id="ilceKatilim">' + this.t1[0].ILCEKATILIM + '</td>                      ';
                html += '        </tr>                                                                                            ';
                html += '        <tr>                                                                                             ';
                html += '            <th class ="acikmavi">IL</th>                                                                ';
                html += '            <td class ="bordersag" id="ilKatilim">' + this.t1[0].ILKATILIM + '</td>                          ';
                html += '        </tr>                                                                                            ';
                html += '        <tr>                                                                                             ';
                html += '            <th class ="acikmavi">GENEL</th>                                                             ';
                html += '            <td class ="bordersag" id="genelKatilim">' + this.t1[0].GENELKATILIM + '</td>              ';
                html += '        </tr>                                                                                            ';
                html += '    </table>                                                                                             ';
                html += '</div>                                                                                                   ';


                this.htmlDeneme += html;


            },

            Siralama() {

                if (this.siralamayiGizle==false) {
                    var k = $.grep(this.t1, function (n, i) {
                        return n.PUANGIZLE == false;
                    });

                    if (k.length == 0)
                        return;


                    var html = '<div class="col-md-6">                                                    ' +
                        '<table  class="table table-striped table-bordered table-checkable">       ' +
                        '     <tr>                                                                 ' +
                        '         <th rowspan="2" class="turuncu">PUAN TÜRÜ</th>                   ' +
                        '         <th rowspan="2" class="turuncu">PUAN</th>                        ' +
                        '         <th colspan="5" class="turuncu">SIRALAMA BİLGİLERİ</th>          ' +
                        '     </tr>                                                                ' +
                        '     <tr>                                                                 ' +
                        '         <td class="turuncu">SINIF</td>                                   ' +
                        '         <td class="turuncu">OKUL</td>                                    ' +
                        '         <td class="turuncu">İLÇE</td>                                    ' +
                        '         <td class="turuncu">İL</td>                                      ' +
                        '         <td class="turuncu">GENEL</td>                                   ' +
                        '     </tr>                                                                ';
                    $.each(k, function (j) {
                        html += '<tr>';
                        html += '<td class="turuncu">' + this.PUANTURU + '</td>';
                        html += '<td class="bordersag">' + this.PUAN + '</td>';
                        html += '<td class="bordersag">' + this.SINIFSIRA + '</td>';
                        html += '<td class="bordersag">' + this.OKULSIRA + '</td>';
                        html += '<td class="bordersag">' + this.ILCESIRA + '</td>';
                        html += '<td class="bordersag">' + this.ILSIRA + '</td>';
                        html += '<td class="bordersag">' + this.GENELSIRA + '</td>';
                        html += '</tr>';
                    });
                    html += '</table></div>';
                    this.htmlDeneme += html;
                //$("#tblSiralama").html(html);
                }
               
            },

            DersBilgi() {
                var html = '<table  class="table table-striped table-bordered table-checkable">        ';
                html += '  <tr>                                                                     ';
                html += '    <th style="text-align:center" class="koyumavi">DERS</th>               ';
                html += '    <th style="text-align:center" class="koyumavi">SORU SAYISI</th>        ';
                html += '    <th style="text-align:center" class="koyumavi">DOGRU</th>              ';
                html += '    <th style="text-align:center" class="koyumavi">YANLIS</th>             ';
                html += '    <th style="text-align:center" class="koyumavi">BOS</th>                ';
                html += '    <th style="text-align:center" class="koyumavi">NET</th>                ';
                if (this.t2[0].OLCEKSINAVI == true) {
                    html += '    <th style="text-align:center" class="koyumavi">PUAN</th>                ';
                }
                html += '    <th style="text-align:center" class="koyumavi">YUZDE BAŞARI</th>       ';
                html += '    <th style="text-align:center" class="koyumavi">SINIF NET ORT</th>      ';
                html += '    <th style="text-align:center" class="koyumavi">OKUL NET ORT</th>    ';
                html += '    <th style="text-align:center" class="koyumavi">GENEL NET ORT</th>    ';
                html += '    <th style="text-align:center" class="koyumavi">SINIF SIRA</th>         ';
                html += '    <th style="text-align:center" class="koyumavi">OKUL SIRA</th>          ';
                html += '    <th style="text-align:center" class="koyumavi">GENEL SIRA</th>         ';
                html += '  </tr>                         ';
                $.each(this.t2, function (j) {
                    html += '<tr>';
                    html += '<td class="acikmavi">' + this.DERSAD + '</td>';
                    html += '<td class="bordersag">' + this.TOPLAMSORU + '</td>';
                    html += '<td class="bordersag">' + this.DOGRU + '</td>';
                    html += '<td class="bordersag">' + this.YANLIS + '</td>';
                    html += '<td class="bordersag">' + this.BOS + '</td>';
                    html += '<td class="bordersag">' + this.NET + '</td>';
                    if (this.OLCEKSINAVI == true) {
                        html += '<td class="bordersag">' + this.PUAN + '</td>';
                    }
                    html += '<td class="bordersag">' + this.YUZDEBASARI + '</td>';
                    html += '<td class="bordersag">' + this.SINIFNETORTALAMA + '</td>';
                    html += '<td class="bordersag">' + this.SUBENETORTALAMA + '</td>';
                    html += '<td class="bordersag">' + this.GENELNETORTALAMA + '</td>';
                    html += '<td class="bordersag">' + this.SINIFSIRA + '</td>';
                    html += '<td class="bordersag">' + this.OKULSIRA + '</td>';
                    html += '<td class="bordersag">' + this.GENELSIRA + '</td>';
                    html += '</tr>';
                });
                html += '</table>';
                this.htmlDeneme += html;
                //$("#tblDersBilgi").html(html);
            },

            CevapAnahtari() {
                var html = '<table class="table table-striped table-bordered table-checkable">                         ' +
                           '  <tr>                          ' +
                           '    <th style="text-align:center" class="koyumavi">DERS</th>               ';
                var maxSoru = this.t3[0].MAXSORU;
                var dersSayisi = this.t3[0].DERSSAYISI;


                var dupes = {};
                var listIdDers = [];
                var listDersAd = [];
                $.each(this.t3, function (j, el) {
                    if (!dupes[el.ID_SINAVDERS]) {
                        dupes[el.ID_SINAVDERS] = el.ID_SINAVDERS;
                        listIdDers.push(el.ID_SINAVDERS);
                        listDersAd.push(el.DERSAD);
                    }
                });



                for (var i = 0; i < maxSoru; i++) {
                    html += '<th style="text-align:center" class="koyumavi">' + (i + 1) + '</th>';
                }
                html += '</tr>';


                for (var d = 0; d < dersSayisi; d++) {
                    html += '<tr><td class="acikmavi" rowspan="2"  style="vertical-align:middle">' + listDersAd[d] + '</td>';
                    for (var s = 0; s < maxSoru ; s++) {
                        html += '<td id="ca-o-' + listIdDers[d] + '-' + (s + 1) + '" class="bordersag"></td>';
                    }
                    html += '</tr>';
                    html += '<tr>';
                    for (var s = 0; s < maxSoru ; s++) {
                        html += '<td id="ca-c-' + listIdDers[d] + '-' + (s + 1) + '" class="bordersag red"></td>';
                    }
                    html += '</tr>';
                }
                html += '</table>';
                this.htmlDeneme += html;



                vue.$nextTick(function () {
                    $.each(this.t3, function (j) {
                        var stil = '';
                        if (this.DURUM != 'D')
                            stil = 'background-color: red; color: white;'

                        $("#ca-o-" + this.ID_SINAVDERS + "-" + this.SORUNO).text(this.OGRENCICEVAP);
                        $("#ca-o-" + this.ID_SINAVDERS + "-" + this.SORUNO).attr("style", stil);

                        $("#ca-c-" + this.ID_SINAVDERS + "-" + this.SORUNO).text(this.DOGRUCEVAP);
                    });
                });

            },

            Grafik() {
                var datapro2 = [];
                var graphs = [];
                var grafikdata = [];
                var html = '<div id="chartdiv" style="border: #DDD 1px solid;"></div>';
                this.htmlDeneme += html;
                vue.$nextTick(function () {
                    $.each(this.t4, function (j) {
                        grafikdata.push({ "Bolum": this.DERSAD, "GenelYuzde": this.GENEL, "SinifYuzde": this.SINIF, "OgrYuzde": this.OGRENCI });
                    });
                    var chart = AmCharts.makeChart("chartdiv", {
                        "theme": "light",
                        "type": "serial",
                        "startDuration": 2,
                        "dataProvider": grafikdata,
                        "valueAxes": [
                             {
                                 "minimum": 0,
                                 "maximum": 100,
                                 "position": "bottom",
                                 "title": "Yüzde Başarı"
                             },
                             {
                                 "minimum": 0,
                                 "maximum": 16,
                                 "position": "left",
                                 "title": "Bölümler"
                             }
                        ],
                        "graphs": [{
                            "balloonText": "[[category]]:Genel <b>%[[value]]</b>",
                            "fillAlphas": 0.9,
                            "lineAlpha": 0.2,
                            "title": "Genel Yüzde",
                            "type": "column",
                            "valueField": "GenelYuzde"
                        }, {
                            "balloonText": "[[category]]:Sınıf <b>%[[value]]</b>",
                            "fillAlphas": 0.9,
                            "lineAlpha": 0.2,
                            "title": "Sınıf Yüzde",
                            "type": "column",
                            "clustered": false,
                            "columnWidth": 0.5,
                            "valueField": "SinifYuzde"

                        }, {
                            "balloonText": "[[category]]:Öğrenci <b>%[[value]]</b>",
                            "fillAlphas": 0.9,
                            "lineAlpha": 0.2,
                            "title": "Öğrenci Yuzde",
                            "type": "column",
                            "clustered": false,
                            "columnWidth": 0.3,
                            "valueField": "OgrYuzde"

                        }],
                        "categoryField": "Bolum",
                        "categoryAxis": {
                            "gridPosition": "start",
                            "labelRotation": 30
                        },
                        "legend": {
                            "useGraphSettings": true,
                            "align": "center"
                        },

                    })
                });
            },

            KonuAnaliz() {

                var html = '<table  class="table table-striped table-bordered table-checkable">  ' +
                         '    <tr>                                                             ' +
                         '      <th style="text-align:center" class="koyumavi" colspan="7">KONU ANALİZ VERİLERİ</th>                      ' +
                         '    </tr>                                                            ' +
                         '    <tr>                                                             ' +
                         '      <td style="text-align:center" class="koyumavi">DERS</td>                                                  ' +
                         '      <td style="text-align:center" class="koyumavi">KONU</td>                                                  ' +
                         '      <td style="text-align:center" class="koyumavi">SORU</td>                                                  ' +
                         '      <td style="text-align:center" class="koyumavi">DOĞRU</td>                                                 ' +
                         '      <td style="text-align:center" class="koyumavi">YANLIŞ</td>                                                ' +
                         '      <td style="text-align:center" class="koyumavi">BOŞ</td>                                                   ' +
                         '      <td style="text-align:center" class="koyumavi">YUZDE</td>                                                 ' +
                         '    </tr>                                                            ';

                $.each(this.t5, function (j) {
                    var stil = '';
                    if (this.KOD == "") {
                        stil = ' class="turuncu"';
                    }
                    html += '<tr>' +
                            '<td ' + stil + '>' + this.DERSAD + '</td>' +
                            '<td ' + stil + '>' + this.KONUAD + '</td>' +
                            '<td ' + stil + '>' + this.SORU + '</td>' +
                            '<td ' + stil + '>' + this.DOGRU + '</td>' +
                            '<td ' + stil + '>' + this.YANLIS + '</td>' +
                            '<td ' + stil + '>' + this.BOS + '</td>';

                    if (this.KOD == "") {
                        html += '<td ' + stil + '>' + this.BOLUMYUZDE + '</td>'
                    }
                    else
                        html += '<td>' + this.YUZDE + '</td>'
                    html += '</tr>';
                });

                html += '  </table>                                                           '

                //$("#tblKonuAnaliz").html(html);
                this.htmlDeneme += html;


            },

            //  yazılı yoklama

            YaziliGetir(item) {

                this.Tbl = 0;

                this.divAcYazili = 1;
                var p = {
                    TCKIMLIKNO: session.TCKIMLIKNO,
                    OTURUM: session.OTURUM,
                    TC_OGRENCI: this.tcogrenci,
                    ID_SINAVRAPOR: item
                };

                WebPost(this, "OgrenciRaporlari", "YaziliYoklamaSonuclari", p, "#app", "Yükleniyor...", function (data, parent) {
                    if (data != null) {
                        parent.t1 = JSON.parse(data)[0].t1;
                        parent.htmlYazili = '<div></div>';
                        parent.YaziliListele();

                    } else {
                        parent.divAc = 0;
                        Alert_Warning("Sınav Bulunamadı..!");
                    }
                });
            },

            YaziliListele() {

                var html = '';

                html += '<table class="table table-striped table-bordered table-hover " id="karne_table2">                          ';
                html += '    <thead>                                                                                                ';
                html += '        <tr> <th style="text-align:left; vertical-align:middle; width:150px;"> Öğrencinin Adı Soyadı </th> ';
                html += '            <th id="OgrenciAd">' + this.t1[0].ADSOYAD + ' </th>                                                ';
                html += '<th id="OkLogo" rowspan="6" colspan="2" style="text-align:center; vertical-align:middle;">                 ';
                html += ' <img src="../../../img/okyanus_logoyeni.png" style="width:100%;" /></th>                                  ';
                html += '        </tr>                                                                                              ';
                html += '        <tr>                                                                                               ';
                html += '            <th style="text-align:left; vertical-align:middle; width:150px;"> Dersin Adı </th>             ';
                html += '            <th id="DersAd">' + this.t1[0].DERSAD + '</th>                                                 ';
                html += '        </tr>                                                                                              ';
                html += '        <tr>                                                                                               ';
                html += '            <th style="text-align:left; vertical-align:middle; width:150px;"> Sınav Adı </th>              ';
                html += '            <th id="SinavAd">' + this.t1[0].SINAVADI + '</th>                                              ';
                html += '        </tr>                                                                                              ';
                html += '        <tr>                                                                                               ';
                html += '            <th style="text-align:left; vertical-align:middle; width:150px;"> Sınav Tarihi </th>           ';
                html += '            <th id="SinavTarihi">' + this.t1[0].SINAVTARIH + '</th>                                        ';
                html += '        </tr>                                                                                              ';
                html += '        <tr>                                                                                               ';
                html += '            <th style="text-align:left; vertical-align:middle; width:150px;"> Toplam Soru Sayısı </th>     ';
                html += '            <th id="SoruSayisi"> ' + this.t1[0].SORUSAYISI + '</th>                                        ';
                html += '        </tr>                                                                                              ';
                html += '        <tr>                                                                                               ';
                html += '            <th style="text-align:left; vertical-align:middle; width:150px;"> Puan </th>                   ';
                html += '            <th id="Puan">' + this.t1[0].PUAN + ' </th>                                                    ';
                html += '        </tr>                                                                                              ';
                html += '        <tr>                                                                                               ';
                html += '            <th style="text-align:left; vertical-align:middle" colspan="2"> KAZANIMLAR </th>               ';
                html += '            <th style="width:50px"> SORUNUN PUAN DEĞERİ </th>                                              ';
                html += '            <th style="width:50px"> ÖĞRENCİNİN ALDIĞI PUAN </th>                                           ';
                html += '        </tr>                                                                                              ';
                html += '    </thead>   <tbody id="tbody_notlar">                                                                   ';

                var puan = 0;
                $.each(this.t1, function (i) {
                    if (this.DETAYMI == true) {
                        html += "<tr>";
                        html += "<td colspan='2'>" + this.SORUNO + ".Soru:<br>Kazanım: " + this.KAZANIM + "</td>";
                        html += "<td style=' vertical-align:middle; text-align:center;'>" + this.PUANDEGERI + "</td>";
                        html += "<td style=' vertical-align:middle; text-align:center;'>" + this.PUAN + "</td>";
                        html += "</tr>";
                        puan += parseInt(this.PUAN);
                    }
                });
                vue.$nextTick(function () {
                    $("#Puan").html(puan);
                });
                html += '</tbody>  </table>';
                this.htmlYazili = html;
            },

            //  konu analizi
            KonuGetir() {

                this.divAcKonu = 1;


                var value = parseFloat($("#value").attr("value"));
                var p = {
                    TCKIMLIKNO: session.TCKIMLIKNO,
                    OTURUM: session.OTURUM,
                    TC_OGRENCI: this.tcogrenci,
                    DONEM: this.DONEM,
                    ID_SINAVTURU: this.idsinavturu,
                    ID_SINAVS: JSON.stringify(this.idsinavs),
                    LIMIT: value
                };
                WebPost(this, "OgrenciRaporlari", "KonuAnalizi", p, "#app", "Yükleniyor...", function (data, parent) {
                    if (data != null) {
                        parent.t1 = JSON.parse(data)[0].t1;
                        parent.gdata = parent.t1;
                        parent.KonuListele();

                    } else {
                        Alert_Warning("Sınav Bulunamadı..!");
                    }
                });
            },

            KonuListele() {
                if (this.t1 == undefined) {
                    this.divAcKonu = 0;
                    return;
                }
                $('#filtersKonu').collapse('hide');
                var veri = "";
                var baslik = "head";
                var thead = "<tr>";
                var toplamsoru = parseFloat(0);
                var toplamdogru = parseFloat(0);
                var toplamyanlis = parseFloat(0);
                var toplambos = parseFloat(0);
                veri += "<tr><th colspan='3' style='text-align:center;vertical-align:middle;background-color: #A09F9D;border-bottom-width: 3px;border-bottom-color: white;'></th>";
                veri += "<th style='text-align:center;border-bottom-color: #FFFFFF;vertical-align:middle;border-bottom-width: 3px;background-color: deepskyblue;'>Soru</td>";
                veri += "<th style='text-align:center;border-bottom-color: #FFFFFF;vertical-align:middle;border-bottom-width: 3px;background-color: deepskyblue;'>Doğru</td>";
                veri += "<th style='text-align:center;border-bottom-color: #FFFFFF;vertical-align:middle;border-bottom-width: 3px;background-color: deepskyblue;'>Yanlış</td>";
                veri += "<th style='text-align:center;border-bottom-color: #FFFFFF;vertical-align:middle;border-bottom-width: 3px;background-color: deepskyblue;'>Boş</td>";
                veri += "<th style='text-align:center;border-bottom-color: #FFFFFF;vertical-align:middle;border-bottom-width: 3px;background-color: deepskyblue;'>% Yüzde</td>";
                veri += "</tr>";
                veri += "<tr><th colspan='3' style='text-align:center;vertical-align:middle;background-color: #A09F9D;border-bottom-width: 3px;border-bottom-color: white;color: white;text-align:right'>TOPLAM</th>";
                veri += "<th style='text-align:center;border-bottom-color: #FFFFFF;vertical-align:middle;border-bottom-width: 3px;background-color: deepskyblue;' id='GenelToplamSoru'>Soru</td>";
                veri += "<th style='text-align:center;border-bottom-color: #FFFFFF;vertical-align:middle;border-bottom-width: 3px;background-color: deepskyblue;' id='GenelToplamDogru'>Doğru</td>";
                veri += "<th style='text-align:center;border-bottom-color: #FFFFFF;vertical-align:middle;border-bottom-width: 3px;background-color: deepskyblue;' id='GenelToplamYanlis'>Yanlış</td>";
                veri += "<th style='text-align:center;border-bottom-color: #FFFFFF;vertical-align:middle;border-bottom-width: 3px;background-color: deepskyblue;' id='GenelToplamBos'>Boş</td>";
                veri += "<th style='text-align:center;border-bottom-color: #FFFFFF;vertical-align:middle;border-bottom-width: 3px;background-color: deepskyblue;' id='GenelToplamYuzde'>% Yüzde</td>";
                veri += "</tr>";
                var dupes = {};
                var listIdDers = [];
                var listDersAd = [];
                $.each(this.t1, function (j, el) {
                    if (!dupes[el.DERSAD]) {
                        dupes[el.DERSAD] = el.DERSAD;
                        listDersAd.push({ 'DERSAD': el.DERSAD });
                    }
                });
                this.dersler = listDersAd;
                $.each(this.t1, function (j) {

                    baslik = "row";
                    if (this.KOD == '') {
                        baslik = "head";
                    }
                    veri += "<tr>";
                    if (baslik == "head") {
                        toplamsoru += parseFloat(this.SORU);
                        toplamdogru += parseFloat(this.DOGRU);
                        toplamyanlis += parseFloat(this.YANLIS);
                        toplambos += parseFloat(this.BOS);
                        veri += "<td colspan='3' style='text-align:left;vertical-align:middle;background-color: #A09F9D;color: white;font-size: 20px;'>" + this.DERSAD + "</td>";
                        veri += "<td style='text-align:center;vertical-align:middle;background-color: #079DE8;color: white;font-size: 20px;'>" + this.SORU + "</td>";
                        veri += "<td style='text-align:center;vertical-align:middle;background-color: #079DE8;color: white;font-size: 20px;'>" + this.DOGRU + "</td>";
                        veri += "<td style='text-align:center;vertical-align:middle;background-color: #079DE8;color: white;font-size: 20px;'>" + this.YANLIS + "</td>";
                        veri += "<td style='text-align:center;vertical-align:middle;background-color: #079DE8;color: white;font-size: 20px;'>" + this.BOS + "</td>";
                        if (parseFloat(this.YUZDE) >= 0 && parseFloat(this.YUZDE) < 10)
                            veri += "<td style='text-align:center;vertical-align:middle;background-color: #F31D13;color: white;font-size: 20px;'>" + this.YUZDE + "</td>";
                        else if (parseFloat(this.YUZDE) >= 10 && parseFloat(this.YUZDE) < 20)
                            veri += "<td style='text-align:center;vertical-align:middle;background-color: #F34713;color: white;font-size: 20px;'>" + this.YUZDE + "</td>";
                        else if (parseFloat(this.YUZDE) >= 20 && parseFloat(this.YUZDE) < 30)
                            veri += "<td style='text-align:center;vertical-align:middle;background-color: #F37013;color: white;font-size: 20px;'>" + this.YUZDE + "</td>";
                        else if (parseFloat(this.YUZDE) >= 30 && parseFloat(this.YUZDE) < 40)
                            veri += "<td style='text-align:center;vertical-align:middle;background-color: #F39913;color: white;font-size: 20px;'>" + this.YUZDE + "</td>";
                        else if (parseFloat(this.YUZDE) >= 40 && parseFloat(this.YUZDE) < 50)
                            veri += "<td style='text-align:center;vertical-align:middle;background-color: #F1CD1C;color: white;font-size: 20px;'>" + this.YUZDE + "</td>";
                        else if (parseFloat(this.YUZDE) >= 50 && parseFloat(this.YUZDE) < 60)
                            veri += "<td style='text-align:center;vertical-align:middle;background-color: #E4DE1C;color: white;font-size: 20px;'>" + this.YUZDE + "</td>";
                        else if (parseFloat(this.YUZDE) >= 60 && parseFloat(this.YUZDE) < 70)
                            veri += "<td style='text-align:center;vertical-align:middle;background-color: #D6EC1B;color: white;font-size: 20px;'>" + this.YUZDE + "</td>";
                        else if (parseFloat(this.YUZDE) >= 70 && parseFloat(this.YUZDE) < 80)
                            veri += "<td style='text-align:center;vertical-align:middle;background-color: #BDF11C;color: white;font-size: 20px;'>" + this.YUZDE + "</td>";
                        else if (parseFloat(this.YUZDE) >= 80 && parseFloat(this.YUZDE) < 90)
                            veri += "<td style='text-align:center;vertical-align:middle;background-color: #95F11C;color: white;font-size: 20px;'>" + this.YUZDE + "</td>";
                        else if (parseFloat(this.YUZDE) >= 90 && parseFloat(this.YUZDE) <= 100)
                            veri += "<td style='text-align:center;vertical-align:middle;background-color: #1CF140;color: white;font-size: 20px;'>" + this.YUZDE + "</td>";

                        veri += "</tr>";
                    }
                    else {
                        veri += "<td colspan='3' style='text-align:left;vertical-align:middle;'>" + this.KONUAD + "</td>";
                        veri += "<td style='text-align:center;vertical-align:middle;'>" + this.SORU + "</td>";
                        veri += "<td style='text-align:center;vertical-align:middle;'>" + this.DOGRU + "</td>";
                        veri += "<td style='text-align:center;vertical-align:middle;'>" + this.YANLIS + "</td>";
                        veri += "<td style='text-align:center;vertical-align:middle;'>" + this.BOS + "</td>";
                        veri += "<td style='text-align:center;vertical-align:middle;'>" + this.YUZDE + "</td>";
                        veri += "</tr>";
                    }
                });
                $("#tbKonu").html(veri);
                $("#GenelToplamSoru").html(toplamsoru);
                $("#GenelToplamDogru").html(toplamdogru);
                $("#GenelToplamYanlis").html(toplamyanlis);
                $("#GenelToplamBos").html(toplambos);
                $("#GenelToplamYuzde").html(((toplamdogru.toFixed(2) / toplamsoru).toFixed(4) * 100).toFixed(2));
                var datapro = [];
                var eleman = { "durum": "Doğru", "yuzde": ((toplamdogru.toFixed(2) / toplamsoru).toFixed(4) * 100).toFixed(2), "color": "#DDD" };
                datapro.push(eleman);
                var eleman = { "durum": "Yanlış", "yuzde": ((toplamyanlis.toFixed(2) / toplamsoru).toFixed(4) * 100).toFixed(2), "color": "#CCC" };
                datapro.push(eleman);
                var eleman = { "durum": "Boş", "yuzde": ((toplambos.toFixed(2) / toplamsoru).toFixed(4) * 100).toFixed(2), "color": "#BBB" };
                datapro.push(eleman);
                AmChartPieOlustur("chartdiv", datapro, "yuzde", "durum", false, "Doğru:" + toplamdogru + " Yanlış:" + toplamyanlis + " Boş:" + toplambos + " Doğru Yüzdesi:" + ((toplamdogru.toFixed(2) / toplamsoru).toFixed(4) * 100).toFixed(2));

            },

            KonuListeleDers() {
                var veri = "";
                var baslik = "head";
                var thead = "<tr>";
                var toplamsoru = parseFloat(0);
                var toplamdogru = parseFloat(0);
                var toplamyanlis = parseFloat(0);
                var toplambos = parseFloat(0);
                veri += "<tr><th colspan='3' style='text-align:center;vertical-align:middle;background-color: #A09F9D;border-bottom-width: 3px;border-bottom-color: white;'></th>";
                veri += "<th style='text-align:center;border-bottom-color: #FFFFFF;vertical-align:middle;border-bottom-width: 3px;background-color: deepskyblue;'>Soru</td>";
                veri += "<th style='text-align:center;border-bottom-color: #FFFFFF;vertical-align:middle;border-bottom-width: 3px;background-color: deepskyblue;'>Doğru</td>";
                veri += "<th style='text-align:center;border-bottom-color: #FFFFFF;vertical-align:middle;border-bottom-width: 3px;background-color: deepskyblue;'>Yanlış</td>";
                veri += "<th style='text-align:center;border-bottom-color: #FFFFFF;vertical-align:middle;border-bottom-width: 3px;background-color: deepskyblue;'>Boş</td>";
                veri += "<th style='text-align:center;border-bottom-color: #FFFFFF;vertical-align:middle;border-bottom-width: 3px;background-color: deepskyblue;'>% Yüzde</td>";
                veri += "</tr>";
                veri += "<tr><th colspan='3' style='text-align:center;vertical-align:middle;background-color: #A09F9D;border-bottom-width: 3px;border-bottom-color: white;color: white;text-align:right'>TOPLAM</th>";
                veri += "<th style='text-align:center;border-bottom-color: #FFFFFF;vertical-align:middle;border-bottom-width: 3px;background-color: deepskyblue;' id='GenelToplamSoru'>Soru</td>";
                veri += "<th style='text-align:center;border-bottom-color: #FFFFFF;vertical-align:middle;border-bottom-width: 3px;background-color: deepskyblue;' id='GenelToplamDogru'>Doğru</td>";
                veri += "<th style='text-align:center;border-bottom-color: #FFFFFF;vertical-align:middle;border-bottom-width: 3px;background-color: deepskyblue;' id='GenelToplamYanlis'>Yanlış</td>";
                veri += "<th style='text-align:center;border-bottom-color: #FFFFFF;vertical-align:middle;border-bottom-width: 3px;background-color: deepskyblue;' id='GenelToplamBos'>Boş</td>";
                veri += "<th style='text-align:center;border-bottom-color: #FFFFFF;vertical-align:middle;border-bottom-width: 3px;background-color: deepskyblue;' id='GenelToplamYuzde'>% Yüzde</td>";
                veri += "</tr>";
                var tt1 = this.t1;
                $(this.seciliDers).each(function (k, sd) {
                    $.each(tt1, function (j, el) {
                        if (sd == el.DERSAD) {
                            baslik = "row";
                            if (el.KOD == '')
                                baslik = "head";
                            veri += "<tr>";
                            if (baslik == "head") {
                                toplamsoru += parseFloat(el.SORU);
                                toplamdogru += parseFloat(el.DOGRU);
                                toplamyanlis += parseFloat(el.YANLIS);
                                toplambos += parseFloat(el.BOS);
                                veri += "<td colspan='3' style='text-align:left;vertical-align:middle;background-color: #A09F9D;color: white;font-size: 20px;'>" + el.DERSAD + "</td>";
                                veri += "<td style='text-align:center;vertical-align:middle;background-color: #079DE8;color: white;font-size: 20px;'>" + el.SORU + "</td>";
                                veri += "<td style='text-align:center;vertical-align:middle;background-color: #079DE8;color: white;font-size: 20px;'>" + el.DOGRU + "</td>";
                                veri += "<td style='text-align:center;vertical-align:middle;background-color: #079DE8;color: white;font-size: 20px;'>" + el.YANLIS + "</td>";
                                veri += "<td style='text-align:center;vertical-align:middle;background-color: #079DE8;color: white;font-size: 20px;'>" + el.BOS + "</td>";
                                if (parseFloat(el.YUZDE) >= 0 && parseFloat(el.YUZDE) < 10)
                                    veri += "<td style='text-align:center;vertical-align:middle;background-color: #F31D13;color: white;font-size: 20px;'>" + el.YUZDE + "</td>";
                                else if (parseFloat(el.YUZDE) >= 10 && parseFloat(el.YUZDE) < 20)
                                    veri += "<td style='text-align:center;vertical-align:middle;background-color: #F34713;color: white;font-size: 20px;'>" + el.YUZDE + "</td>";
                                else if (parseFloat(el.YUZDE) >= 20 && parseFloat(el.YUZDE) < 30)
                                    veri += "<td style='text-align:center;vertical-align:middle;background-color: #F37013;color: white;font-size: 20px;'>" + el.YUZDE + "</td>";
                                else if (parseFloat(el.YUZDE) >= 30 && parseFloat(el.YUZDE) < 40)
                                    veri += "<td style='text-align:center;vertical-align:middle;background-color: #F39913;color: white;font-size: 20px;'>" + el.YUZDE + "</td>";
                                else if (parseFloat(el.YUZDE) >= 40 && parseFloat(el.YUZDE) < 50)
                                    veri += "<td style='text-align:center;vertical-align:middle;background-color: #F1CD1C;color: white;font-size: 20px;'>" + el.YUZDE + "</td>";
                                else if (parseFloat(el.YUZDE) >= 50 && parseFloat(el.YUZDE) < 60)
                                    veri += "<td style='text-align:center;vertical-align:middle;background-color: #E4DE1C;color: white;font-size: 20px;'>" + el.YUZDE + "</td>";
                                else if (parseFloat(el.YUZDE) >= 60 && parseFloat(el.YUZDE) < 70)
                                    veri += "<td style='text-align:center;vertical-align:middle;background-color: #D6EC1B;color: white;font-size: 20px;'>" + el.YUZDE + "</td>";
                                else if (parseFloat(el.YUZDE) >= 70 && parseFloat(el.YUZDE) < 80)
                                    veri += "<td style='text-align:center;vertical-align:middle;background-color: #BDF11C;color: white;font-size: 20px;'>" + el.YUZDE + "</td>";
                                else if (parseFloat(el.YUZDE) >= 80 && parseFloat(el.YUZDE) < 90)
                                    veri += "<td style='text-align:center;vertical-align:middle;background-color: #95F11C;color: white;font-size: 20px;'>" + el.YUZDE + "</td>";
                                else if (parseFloat(el.YUZDE) >= 90 && parseFloat(el.YUZDE) <= 100)
                                    veri += "<td style='text-align:center;vertical-align:middle;background-color: #1CF140;color: white;font-size: 20px;'>" + el.YUZDE + "</td>";

                                veri += "</tr>";
                            }
                            else {
                                veri += "<td colspan='3' style='text-align:left;vertical-align:middle;'>" + el.KONUAD + "</td>";
                                veri += "<td style='text-align:center;vertical-align:middle;'>" + el.SORU + "</td>";
                                veri += "<td style='text-align:center;vertical-align:middle;'>" + el.DOGRU + "</td>";
                                veri += "<td style='text-align:center;vertical-align:middle;'>" + el.YANLIS + "</td>";
                                veri += "<td style='text-align:center;vertical-align:middle;'>" + el.BOS + "</td>";
                                veri += "<td style='text-align:center;vertical-align:middle;'>" + el.YUZDE + "</td>";
                                veri += "</tr>";
                            }
                        }
                    });
                });
                $("#tbKonu").html(veri);
                $("#GenelToplamSoru").html(toplamsoru);
                $("#GenelToplamDogru").html(toplamdogru);
                $("#GenelToplamYanlis").html(toplamyanlis);
                $("#GenelToplamBos").html(toplambos);
                $("#GenelToplamYuzde").html(((toplamdogru.toFixed(2) / toplamsoru).toFixed(4) * 100).toFixed(2));
                var datapro = [];
                var eleman = { "durum": "Doğru", "yuzde": ((toplamdogru.toFixed(2) / toplamsoru).toFixed(4) * 100).toFixed(2), "color": "#DDD" };
                datapro.push(eleman);
                var eleman = { "durum": "Yanlış", "yuzde": ((toplamyanlis.toFixed(2) / toplamsoru).toFixed(4) * 100).toFixed(2), "color": "#CCC" };
                datapro.push(eleman);
                var eleman = { "durum": "Boş", "yuzde": ((toplambos.toFixed(2) / toplamsoru).toFixed(4) * 100).toFixed(2), "color": "#BBB" };
                datapro.push(eleman);
                AmChartPieOlustur("chartdiv", datapro, "yuzde", "durum", false, "Doğru:" + toplamdogru + " Yanlış:" + toplamyanlis + " Boş:" + toplambos + " Doğru Yüzdesi:" + ((toplamdogru.toFixed(2) / toplamsoru).toFixed(4) * 100).toFixed(2));

            },

            // Ara Karne

            AraKarneYazdir: function (event) {
                if ((this.tcogrenci == undefined || this.tcogrenci == "0")
                        || (this.DONEM == undefined || this.DONEM == "0")) {
                    Alert_Warning("Öğrenci ve Sınav Türü seçmeniz gerekmektedir.");
                    return;
                } else {
                    window.open('../Rapor.aspx?rapor=Sinav.AraKarne&raporTur=pdf&p=' + session.TCKIMLIKNO + ';' + session.OTURUM + ';' + this.tcogrenci + ';' + this.DONEM + ";" + 2, '_blank');
                }
            },

            AraKarneGetir() {

                if ((this.tcogrenci == undefined || this.tcogrenci == "0")
                        || (this.DONEM == undefined || this.DONEM == "0")) {
                    Alert_Warning("Öğrenci ve Sınav Türü seçmeniz gerekmektedir.");
                    return;
                }

                $('#filtersAraKarne').collapse('hide');
                var p = {
                    TCKIMLIKNO: session.TCKIMLIKNO,
                    OTURUM: session.OTURUM,
                    TC_OGRENCI: this.tcogrenci,
                    DONEM: this.DONEM,
                    ID_SINAVTURU: 0
                };

                WebPost(this, "OgrenciRaporlari", "AraKarneDeneme", p, "#app", "Yükleniyor...", function (data, parent) {
                    if (data != null) {
                        parent.t2 = JSON.parse(data)[0].t2;
                        var dt1 = _.groupBy(JSON.parse(data)[0].t1, function (d) { return d.ID_SINAVTURU });
                        var dt3 = _.groupBy(JSON.parse(data)[0].t3, function (d) { return d.ID_SINAVTURU });
                        var dt4 = _.groupBy(JSON.parse(data)[0].t4, function (d) { return d.ID_SINAVTURU });
                        var dt5 = _.groupBy(JSON.parse(data)[0].t5, function (d) { return d.ID_SINAVTURU });
                        var dt6 = _.groupBy(JSON.parse(data)[0].t6, function (d) { return d.ID_SINAVTURU });

                        parent.t7 = JSON.parse(data)[0].y1;
                        parent.t8 = JSON.parse(data)[0].y2;
                        parent.t9 = JSON.parse(data)[0].y3;
                        parent.t10 = JSON.parse(data)[0].y4;

                        $.each(JSON.parse(data)[0].t1, function (j, el) {
                            parent.idsinavturu = el.ID_SINAVTURU;
                            parent.t1 = dt1[el.ID_SINAVTURU];
                            parent.t3 = dt3[el.ID_SINAVTURU];
                            parent.t4 = dt4[el.ID_SINAVTURU];
                            parent.t5 = dt5[el.ID_SINAVTURU];
                            parent.t6 = dt6[el.ID_SINAVTURU];

                            parent.AraKarneListele();
                        });
                    }
                    else {
                        Alert_Warning("Sınav Bulunamadı..!");
                        return;
                    }
                });
            },

            AraKarneListele() {
                if (this.t1 == undefined) { Alert_Warning("Sınav Bulunamadı..!"); return; }
                if (this.ogrBilgi == 0) {
                    this.ogrBilgi++;


                    var ogrenci = this.t1[0];

                    var html = '';

                    html += '<div class="row" style="margin-top:20px!important;"><div class="col-md-4"><table id="tblDers" data-height="700" class="table table-striped table-bordered  table-checkable" data-width="100%" style="margin-bottom:0px; color:#111; width:100%; "><tr>                                                                                    ';
                    html += '    <th colspan="2" style="text-align:center" class="koyumavi">ÖĞRENCİ BİLGİLERİ</th>   ';
                    html += '</tr>                                                                                   ';
                    html += '<tr>                                                                                    ';
                    html += '    <td class="acikmavi">OKUL</td>                                                      ';
                    html += '    <td class="bordersag">' + ogrenci["SUBEAD"] + '</td>                                ';
                    html += '</tr>                                                                                   ';
                    html += '<tr>                                                                                    ';
                    html += '    <td class="acikmavi">SINIF</td>                                                     ';
                    html += '    <td class="bordersag">' + ogrenci["SINIF"] + '</td>                                 ';
                    html += '</tr>                                                                                   ';
                    html += '<tr>                                                                                    ';
                    html += '    <td class="acikmavi">AD SOYAD</td>                                                  ';
                    html += '    <td class="bordersag">' + ogrenci["ADSOYAD"] + '</td>                               ';
                    html += '</tr>                                                                                   ';
                    html += '<tr>                                                                                    ';
                    html += '    <th class="acikmavi">TC KİMLİK NO</th>                                              ';
                    html += '    <td class="bordersag">' + ogrenci["TCKIMLIKNO"] + '</td>                            ';
                    html += '</tr></table></div>                                                                     ';



                    html += '<div class="col-md-8"><table id="tblDers" data-height="700" class="table table-striped table-bordered  table-checkable" data-width="100%" style="margin-bottom:0px; color:#111; width:100%; "> <tr> <th colspan="4" style="text-align:center" class="koyumavi">DERS ÖĞRETMENLERİ</th> </tr>';
                    $.each(this.t2, function (j, el) {
                        if (j % 2 == 0) html += '<tr>';
                        html += '<td class="acikmavi" >' + el.DERSAD + '</td>';
                        html += '<td class="bordersag">' + el.ADSOYAD + '</td>';
                        if (j % 2 == 1) html += '</tr>';
                    });
                    html += "</table></div></div>";
                    this.htmlAraKarne += html;
                }
                var sinavlar = [];
                $.each(this.t4, function (j) { if (sinavlar.indexOf(this.ID_SINAV) == -1) { sinavlar.push(this.ID_SINAV) } });
                this.sinavlar = sinavlar;

                if (this.idsinavturu == -1) {
                    this.AraKarneYaziliTablo();
                }
                else {
                    this.AraKarneDersTablo();
                    this.AraKarnePuanTablo();
                }
            },

            AraKarneDersTablo() {
                if (this.t3 == undefined) {
                    $("#thDers").html("");
                    $("#tbDers").html("");
                    return;
                }
                var tt3 = this.t3;//dersler
                var tt4 = this.t4;//DERS DYBN

                var html = '<div style="margin-top:20px;"><div style="overflow-x: auto"> <table id="tblDers" data-height="700" class="table table-striped table-bordered  table-checkable" data-width="100%" style="margin-bottom:0px; color:#111; width:100%; "><tr>                                                     ';
                html += '       <th colspan="' + ((tt3.length * 5) + 5) + '"  class="koyumavi">' + tt3[0].SINAVTURU.toUpperCase() + ' NET TABLOSU</th>            ';
                html += '   </tr>                                                    ';

                html += '<tr>                                ';
                html += '  <td rowspan="2" class="acikmavi">SINAV</td>    ';
                $.each(tt3, function (j, el) {
                    html += '  <td colspan="5" class="acikmavi">' + this.DERSAD + '</td>';
                });
                html += '<td colspan="4" class="acikmavi"> TOPLAM </td>';
                html += '</tr>';
                html += '<tr>';
                $.each(tt3, function (j, el) {
                    html += '   <td class="acikmavi">D</td>        ';
                    html += '   <td class="acikmavi">Y</td>        ';
                    html += '   <td class="acikmavi">B</td>        ';
                    html += '   <td class="acikmavi">N</td>        ';
                    html += '   <td class="acikmavi">P</td>        ';
                });
                html += '   <td class="acikmavi">TD</td>        ';
                html += '   <td class="acikmavi">TY</td>        ';
                html += '   <td class="acikmavi">TB</td>        ';
                html += '   <td class="acikmavi">TN</td>        ';
                html += ' </tr>                                 ';

                $.each(this.sinavlar, function (j, sinav) {
                    html += '<tr>';
                    parent.a1 = tt4.filter(function (element) { return element.ID_SINAV == sinav; })
                    html += '<td class="bordersag" >' + a1[0].SINAVAD + '</td>';

                    $.each(tt3, function (j, el) {
                        var girdi = false;
                        $.each(parent.a1, function (j, sel) {
                            if (el.DERSAD == sel.DERSAD) {
                                html += '<td class="bordersag" >' + sel.DOGRU + '</td>';
                                html += '<td class="bordersag" >' + sel.YANLIS + '</td>';
                                html += '<td class="bordersag" >' + sel.BOS + '</td>';
                                html += '<td class="bordersag" >' + sel.NET + '</td>';
                                if (sel.OLCEKSINAVI == true)
                                    html += '<td class="bordersag" >' + sel.DERSPUAN + '</td>';
                                else
                                    html += '<td class="bordersag" > - </td>';
                                girdi = true;
                            }
                        });
                        if (girdi == false) {
                            html += '<td class="bordersag" > - </td>';
                            html += '<td class="bordersag" > - </td>';
                            html += '<td class="bordersag" > - </td>';
                            html += '<td class="bordersag" > - </td>';
                            html += '<td class="bordersag" > - </td>';
                        }

                    });
                    html += '<td class="bordersag" >' + a1[0].TD + '</td>';
                    html += '<td class="bordersag" >' + a1[0].TY + '</td>';
                    html += '<td class="bordersag" >' + a1[0].TB + '</td>';
                    html += '<td class="bordersag" >' + a1[0].TN + '</td>';
                    html += '</tr>';
                });
                html += "</table></div></div>"
                this.htmlAraKarne += html;
            },

            AraKarnePuanTablo() {

                $("#thPuan").html("");
                $("#tbPuan").html("");
                if (this.t6 == undefined || this.t5[0].PUANGIZLE == true) {
                    return;
                }

                var tt5 = this.t5;//PUAN
                var tt6 = this.t6;//PUAN turleri

                var html = '<div style="margin-top:20px"><div style="overflow-x: auto"><table id="tblDers" data-height="700" class="table table-striped table-bordered table-checkable" data-width="100%" style="margin-bottom:0px; color:#111; width:100%; "><tr>';
                html += '<th class="acikmavi" style="text-align:center;" colspan="' + ((tt6.length * 6) + 1) + '" >' + this.t3[0].SINAVTURU.toUpperCase() + ' PUAN TABLOSU</th>';
                html += '</tr>';

                html += '<tr>';
                html += '  <td  class="turuncu"  style="text-align:center;"  rowspan="2">SINAV</td>';
                $.each(tt6, function (j, el) {
                    html += '  <td  class="turuncu"  style="text-align:center;"  colspan="6">' + el.PUANTURU + '</td>       ';
                });
                html += '</tr>';
                html += '<tr>';
                $.each(tt6, function (j, el) {
                    html += '<td class="turuncu" style="text-align:center;"  >PUAN</td>';
                    html += '<td class="turuncu" style="text-align:center;"  >SINIF</td>';
                    html += '<td class="turuncu" style="text-align:center;"  >OKUL</td>';
                    html += '<td class="turuncu" style="text-align:center;"  >ILCE</td>';
                    html += '<td class="turuncu" style="text-align:center;"  >IL</td>';
                    html += '<td class="turuncu" style="text-align:center;"  >GENEL</td>';
                });
                html += ' </tr>';


                var sinavlar = [];
                $.each(this.t5, function (j) {
                    if (sinavlar.indexOf(this.ID_SINAV) == -1) {
                        sinavlar.push(this.ID_SINAV)
                    }
                });

                $.each(sinavlar, function (j, sinav) {
                    html += '<tr>';
                    parent.a1 = tt5.filter(function (element) { return element.ID_SINAV == sinav; });
                    html += '<td class="bordersag" >' + a1[0].SINAVAD + '</td>';
                    $.each(parent.a1, function (j, sel) {
                        $.each(tt6, function (j, el) {
                            if (el.PUANTURU == sel.PUANTURU) {
                                html += '<td class="bordersag" >' + sel.PUAN + '</td>';
                                html += '<td class="bordersag" >' + sel.SINIFSIRA + ' / ' + sel.SINIFKATILIM + '</td>';
                                html += '<td class="bordersag" >' + sel.OKULSIRA + ' / ' + sel.SUBEKATILIM + '</td>';
                                html += '<td class="bordersag" >' + sel.ILCESIRA + ' / ' + sel.ILCEKATILIM + '</td>';
                                html += '<td class="bordersag" >' + sel.ILSIRA + ' / ' + sel.ILKATILIM + '</td>';
                                html += '<td class="bordersag" >' + sel.GENELSIRA + ' / ' + sel.GENELKATILIM + '</td>';
                            }
                        });
                    });
                    html += '</tr>';
                });
                html += '</table></div></div>';
                this.htmlAraKarne += html;

            },

            AraKarneYaziliTablo() {
                if (this.t9 == undefined) {
                    $("#thYazili").html("");
                    $("#tbYazili").html("");
                    return;
                }

                var tt3 = this.t9;//dersler
                var tt4 = this.t10;//DERS PUAN

                var html = '<div style="margin-top:20px; margin-bottom:20px;"><div style="overflow-x: auto"><table id="tblDers" data-height="700" class="table table-striped table-bordered table-checkable" data-width="100%" style="margin-bottom:0px; color:#111; width:100%; "><tr>                                                     ';
                html += '       <th class="acikmavi"  colspan="7" >YAZILI YOKLAMA SONUÇLARI</th>            ';
                html += '   </tr>                                                    ';

                html += '<tr>';
                html += '<td class="turuncu"  rowspan="2">DERSLER</td>';
                html += '<td class="turuncu"  style="text-align:center;"  colspan="3">1. Dönem</td>';
                html += '<td class="turuncu"  style="text-align:center;"  colspan="3">2. Dönem</td>';
                html += '</tr>';
                html += '<tr>';

                html += '<td class="turuncu" >1. Sınav</td>';
                html += '<td class="turuncu" >2. Sınav</td>';
                html += '<td class="turuncu" >3. Sınav</td>';

                html += '<td class="turuncu" >1. Sınav</td>';
                html += '<td class="turuncu" >2. Sınav</td>';
                html += '<td class="turuncu" >3. Sınav</td>';

                html += '</tr>';

                $.each(tt3, function (j, sinav) {
                    html += '<tr>';
                    parent.a3 = tt4.filter(function (element) {
                        return element.DERSAD == sinav.DERSAD;
                    })
                    html += '<td>' + sinav.DERSAD + '</td>';
                    var s11 = "";
                    var s12 = "";
                    var s13 = "";
                    var s21 = "";
                    var s22 = "";
                    var s23 = "";
                    $.each(parent.a3, function (j, sel) {
                        if (sel.SINAVADI.indexOf("101") > -1) { s11 = sel.PUAN }
                        if (sel.SINAVADI.indexOf("102") > -1) { s12 = sel.PUAN }
                        if (sel.SINAVADI.indexOf("103") > -1) { s13 = sel.PUAN }
                        if (sel.SINAVADI.indexOf("201") > -1) { s21 = sel.PUAN }
                        if (sel.SINAVADI.indexOf("202") > -1) { s22 = sel.PUAN }
                        if (sel.SINAVADI.indexOf("203") > -1) { s23 = sel.PUAN }
                    });
                    html += '<td class="bordersag" >' + s11 + '</td>';
                    html += '<td class="bordersag" >' + s12 + '</td>';
                    html += '<td class="bordersag" >' + s13 + '</td>';
                    html += '<td class="bordersag" >' + s21 + '</td>';
                    html += '<td class="bordersag" >' + s22 + '</td>';
                    html += '<td class="bordersag" >' + s23 + '</td>';

                    html += '</tr>';
                });
                html += '</table></div></div>';
                this.htmlAraKarne += html;
            },

            //  Ödev Takibi

            OdevTakibiGetir() {
                var _this = this;
                if (this.DONEM != "" && this.tcogrenci != "") {
                    this.divAc = 1;
                    var p = {
                        TCKIMLIKNO: session.TCKIMLIKNO,
                        OTURUM: session.OTURUM,
                        TC_OGRENCI: this.tcogrenci,
                        DONEM: this.DONEM,
                    }
                    _this.ODEVLISTE = [];
                    WebPost(this, "OgrenciRaporlari", "OdevTakibi", p, "#app", "Yükleniyor...", function (data, parent) {
                        if (JSON.parse(data)[0].LISTE != undefined) {
                            //$('#filters').collapse('hide');

                            _this.ODEVLISTE = JSON.parse(data)[0].LISTE;
                            _this.$nextTick(() => {
                                $('.selectpicker').selectpicker('refresh');
                            });
                            _this.OdevTakibiListele();

                        } else {
                            Alert_Warning("Ödev Bulunamadı..!");
                        }
                    });

                }
            },
            OdevTakibiListele() {
                var _this = this;
                var data1 = { value: 0, text: "", count: 0 };
                var data2 = { value: 0, text: "", count: 0 };
                var data3 = { value: 0, text: "", count: 0 };
                var data4 = { value: 0, text: "", count: 0 };
                var data5 = { value: 0, text: "", count: 0 };

                var result = $.grep(_this.ODEVLISTE, function (el, i) { return el.ID_DERS == _this.idders; });

                var TOS = 0;
                $.each(result[0].DURUM, function (j) {
                    TOS += this.SAYI;
                    if (this.ODEVDURUM === "Tam Yaptı") {
                        data1.value = this.YUZDE;
                        data1.text = this.ODEVDURUM;
                        data1.count = this.SAYI;
                    }
                    else if (this.ODEVDURUM === "Eksik Yaptı") {
                        data2.value = this.YUZDE;
                        data2.text = this.ODEVDURUM;
                        data2.count = this.SAYI;
                    }
                    else if (this.ODEVDURUM === "Yapmadı") {
                        data3.value = this.YUZDE;
                        data3.text = this.ODEVDURUM;
                        data3.count = this.SAYI;
                    }
                    else if (this.ODEVDURUM === "Geç Yaptı") {
                        data4.value = this.YUZDE;
                        data4.text = this.ODEVDURUM;
                        data4.count = this.SAYI;
                    }
                    else if (this.ODEVDURUM === "Diğer") {
                        data5.value = this.YUZDE;
                        data5.text = this.ODEVDURUM;
                        data5.count = this.SAYI;
                    }
                    if (result[0].DURUM.length == (j + 1)) {

                        _this.OdevTakibiGrafik(data1, data2, data3, data4, data5);
                    }
                })
                $("#divTOS").html("Toplam Ödev Sayısı : " + TOS);
            },

            OdevTakibiGrafik(data1, data2, data3, data4, data5) {
                var chartData = [];
                if (data1.count > 0)
                    chartData.push({ title: data1.text, count: data1.count, color: "#1CF140" });
                if (data2.count > 0)
                    chartData.push({ title: data2.text, count: data2.count, color: "#F31D13" });
                if (data3.count > 0)
                    chartData.push({ title: data3.text, count: data3.count });
                if (data4.count > 0)
                    chartData.push({ title: data4.text, count: data4.count });
                if (data5.count > 0)
                    chartData.push({ title: data5.text, count: data5.count });


                var chart = AmCharts.makeChart("chartdiv3", {
                    "type": "pie",
                    "startDuration": 0,
                    "theme": "light",
                    "addClassNames": true,
                    "legend": {
                        "position": "right",
                        "marginRight": 100,
                        "autoMargins": false
                    },
                    "innerRadius": "30%",
                    "defs": {
                        "filter": [{
                            "id": "shadow",
                            "width": "200%",
                            "height": "200%",
                            "feOffset": {
                                "result": "offOut",
                                "in": "SourceAlpha",
                                "dx": 0,
                                "dy": 0
                            },
                            "feGaussianBlur": {
                                "result": "blurOut",
                                "in": "offOut",
                                "stdDeviation": 5
                            },
                            "feBlend": {
                                "in": "SourceGraphic",
                                "in2": "blurOut",
                                "mode": "normal"
                            }
                        }]
                    },
                    "dataProvider": chartData,
                    "valueField": "count",
                    "titleField": "title",
                    "colorField": "color",
                    "export": {
                        "enabled": true
                    }
                });

                chart.addListener("init", handleInit);

                chart.addListener("rollOverSlice", function (e) {
                    handleRollOver(e);
                });

                function handleInit() {
                    chart.legend.addListener("rollOverItem", handleRollOver);
                }

                function handleRollOver(e) {
                    var wedge = e.dataItem.wedge.node;
                    wedge.parentNode.appendChild(wedge);
                }

            },


        },
    });
</script>
<script src="../../../Scripts/PublicMethods.js"></script>
<script src="../../../Scripts/Rapor/amcharts.js"></script>