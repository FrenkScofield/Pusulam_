<div class="page-head">
    <div class="page-title col-md-12">
        <h1>
            Sınav Raporu <small>Sınava Katılmayanlar</small> <span onclick="YardimGoster(ID_MENU);" class="pull-right" style="cursor:pointer;"><img src="assets/global/img/info.gif" class="info-image-icon" /> </span>
        </h1>
    </div>
</div>

<div class="row" id="app">
    <div class="col-md-12">
        <div class="portlet box green-haze dd-item" style="border:none">
            <div class="portlet-title dd-handle" data-toggle='collapse' data-target='#filters' style="cursor:pointer;">
                <div class="caption">
                    <i class="icon-magnifier"></i>
                    <span class="caption-subject bold uppercase"> Filtreler </span>
                    <span class="caption-helper"></span>
                </div>
                <div class='actions'>
                    <a href='javascript:;' class='btn btn-default btn-sm' style='border:none;'>
                        <i class='fa fa-chevron-down'></i>
                    </a>
                </div>
            </div>
            <div class="portlet-body form collapse in" id="filters">
                <div class="form-body form-group-lg form-horizontal">
                    <div class="form-inline list-group-item row">

                        <div class="portlet light col-md-12" id="FiltreDiv" style="margin:0px; border-bottom-style: solid;border-bottom-width: 3px;border-bottom-color: rgb(0, 173, 239);">
                            <div class="portlet-body">
                                <div class="form-inline">
                                    <c-DONEM controller="AssessmentSinavaKatilmayanlar"
                                             @OnChange="DonemSelected">
                                    </c-DONEM>
                                    <c-sube-multi controller="AssessmentSinavaKatilmayanlar"
                                                  @OnChange="SubeSelected">
                                    </c-sube-multi>
                                    <c-kademe3 controller="AssessmentSinavaKatilmayanlar"
                                               :idsubelist="ID_SUBEs"
                                               :idset="ID_KADEME3"
                                               @OnChange="Kademe3Selected">
                                    </c-kademe3>
                                    <c-assessment-sinav controller="AssessmentSinavaKatilmayanlar"
                                                        :donem="DONEM"
                                                        :idkademe3="ID_KADEME3"
                                                        :idset="ID_ASSESSMENT"
                                                        @OnChange="SinavSelected">
                                    </c-assessment-sinav>
                                </div>
                            </div>
                        </div>

                    </div>
                    <div class="form-inline list-group-item row" v-if="ID_ASSESSMENT>0">
                        <c-rapor-tur-buton @Yazdir="Yazdir"> </c-rapor-tur-buton>
                    </div>
                </div>


            </div>

        </div>
    </div>
        
</div>
<script src="../../assets/global/plugins/bootstrap-select/js/i18n/defaults-tr_TR.js"></script>
<script src="../../../VueComponents/Genel.js?v=6"></script>
<script src="../../../VueComponents/GenelSinavRaporuFiltreleri.js?v=5"></script>
<script>
    var vue = new Vue({
        el: "#app",
        name: "SinavOgrenciRaporu.html",

        data: {
            ID_SUBEs: [],
            DONEM: undefined,
            ID_KADEME3: 0,
            ID_ASSESSMENT: 0,
        },

        methods: {

            DonemSelected(item) {
                this.DONEM = item;
                this.ID_ASSESSMENT = 0;
            },
            SubeSelected(item) {
                this.ID_SUBEs = item;
                this.ID_ASSESSMENT = 0;
                this.ID_KADEME3 = 0;
            },
            Kademe3Selected(item) {
                this.ID_KADEME3 = item;
                this.ID_ASSESSMENT = 0;
            },
            SinavSelected(item) {
                this.ID_ASSESSMENT = item;
            },

            Yazdir(ciktiTuru) {
                if (ciktiTuru == "") {
                    Alert_Warning("Çıktı Türünü Seçiniz.");
                    return;
                }
                if (this.ID_ASSESSMENT != 0 ) {                    
                    window.open('../Rapor.aspx?rapor=Sinav.Assessment.SinavaKatilmayanlar&raporTur=' + ciktiTuru + '&p=' + session.TCKIMLIKNO + ';' + session.OTURUM + ';' + this.ID_ASSESSMENT + ";" + JSON.stringify(this.ID_SUBEs) , '_blank');
                }
                else {
                    Alert_Warning("Sınav seçmeniz gerekmektedir.");
                    return;
                }
            },


        },
    });
</script>
<script src="../../../Scripts/PublicMethods.js?v=1.0.0"></script>
